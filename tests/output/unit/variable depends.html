<!doctype html>
<html>
	<head>
		<meta charset='utf-8'>
		<title>variable depends</title>
		<script type='text/javascript' src='../tryToFindMathJax.js'></script>
	</head>
	<body onload='tryToFindMathJax();'>

<table border="1" style="border-collapse:collapse">
<tr><td>
<b>testing dependency</b><br>
<code></code>
</td><td>
<tr><td>
<b></b><br>
<code></code>
</td><td>
<tr><td>
<b></b><br>
<code>y = symmath.var'y'</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b>depends regardless of specification</b><br>
<code>assert(true == y:dependsOn(y))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b>was not specified</b><br>
<code>assert(false == y:dependsOn(y'^p'))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b>was not specified</b><br>
<code>assert(false == y'^p':dependsOn(y))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b>dependsregardless of specification</b><br>
<code>assert(true == y'^p':dependsOn(y'^q'))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code></code>
</td><td>
<tr><td>
<b></b><br>
<code>y = symmath.var'y'</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>y:setDependentVars(x'^a')</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b>was not specified</b><br>
<code>assert(false == y'^p':dependsOn(x))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b>was not specified</b><br>
<code>assert(false == y'^p':dependsOn(x'^q'))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b>was specified</b><br>
<code>assert(true == y:dependsOn(x'^q'))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b>was not specified</b><br>
<code>assert(false == y:dependsOn(x))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code></code>
</td><td>
<tr><td>
<b></b><br>
<code>y = symmath.var'y'</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b>not by default</b><br>
<code>assert(false == y:dependsOn(x))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(false == y:dependsOn(x'^p'))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(false == y:dependsOn(x'^pq'))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(false == y'^i':dependsOn(x))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(false == y'^i':dependsOn(x'^p'))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(false == y'^i':dependsOn(x'^pq'))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(false == y'^ij':dependsOn(x))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(false == y'^ij':dependsOn(x'^p'))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(false == y'^ij':dependsOn(x'^pq'))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>y:setDependentVars(x)</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(true == y:dependsOn(x))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(false == y:dependsOn(x'^p'))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(false == y:dependsOn(x'^pq'))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(false == y'^i':dependsOn(x))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(false == y'^i':dependsOn(x'^p'))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(false == y'^i':dependsOn(x'^pq'))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(false == y'^ij':dependsOn(x))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(false == y'^ij':dependsOn(x'^p'))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(false == y'^ij':dependsOn(x'^pq'))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b>TODO this should be in tests/unit/diff.lua</b><br>
<code></code>
</td><td>
<tr><td>
<b></b><br>
<code>assert(y:diff(x)() == y:diff(x))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(y:diff(x'^p')() == zero)</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(y:diff(x'^pq')() == zero)</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(y'^i':diff(x)() == zero)</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(y'^i':diff(x'^p')() == zero)</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(y'^i':diff(x'^pq')() == zero)</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(y'^ij':diff(x)() == zero)</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(y'^ij':diff(x'^p')() == zero)</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(y'^ij':diff(x'^pq')() == zero)</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(y:diff(x,z)() == zero)</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code></code>
</td><td>
<tr><td>
<b></b><br>
<code>y = symmath.var'y'</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>y:setDependentVars(x'^a')</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(false == y:dependsOn(x))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(true == y:dependsOn(x'^p'))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(false == y:dependsOn(x'^pq'))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(false == y'^i':dependsOn(x))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(false == y'^i':dependsOn(x'^p'))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(false == y'^i':dependsOn(x'^pq'))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(false == y'^ij':dependsOn(x))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(false == y'^ij':dependsOn(x'^p'))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(false == y'^ij':dependsOn(x'^pq'))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(y:diff(x)() == zero)</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(y:diff(x'^p')() == y:diff(x'^p'))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(y:diff(x'^pq')() == zero)</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(y'^i':diff(x)() == zero)</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(y'^i':diff(x'^p')() == zero)</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(y'^i':diff(x'^pq')() == zero)</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(y'^ij':diff(x)() == zero)</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(y'^ij':diff(x'^p')() == zero)</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(y'^ij':diff(x'^pq')() == zero)</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code></code>
</td><td>
<tr><td>
<b></b><br>
<code>y = symmath.var'y'</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>y'^a':setDependentVars(x)</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(false == y:dependsOn(x))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(false == y:dependsOn(x'^p'))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(false == y:dependsOn(x'^pq'))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(true == y'^i':dependsOn(x))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(false == y'^i':dependsOn(x'^p'))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(false == y'^i':dependsOn(x'^pq'))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(false == y'^ij':dependsOn(x))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(false == y'^ij':dependsOn(x'^p'))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(false == y'^ij':dependsOn(x'^pq'))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(y:diff(x)() == zero)</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(y:diff(x'^p')() == zero)</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(y:diff(x'^pq')() == zero)</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(y'^i':diff(x)() == y'^i':diff(x))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(y'^i':diff(x'^p')() == zero)</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(y'^i':diff(x'^pq')() == zero)</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(y'^ij':diff(x)() == zero)</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(y'^ij':diff(x'^p')() == zero)</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(y'^ij':diff(x'^pq')() == zero)</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code></code>
</td><td>
<tr><td>
<b></b><br>
<code>y = symmath.var'y'</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>y'^a':setDependentVars(x'^b')</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(false == y:dependsOn(x))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(false == y:dependsOn(x'^p'))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(false == y:dependsOn(x'^pq'))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(false == y'^i':dependsOn(x))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(true == y'^i':dependsOn(x'^p'))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(false == y'^i':dependsOn(x'^pq'))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(false == y'^ij':dependsOn(x))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(false == y'^ij':dependsOn(x'^p'))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(false == y'^ij':dependsOn(x'^pq'))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(y:diff(x)() == zero)</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(y:diff(x'^p')() == zero)</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(y:diff(x'^pq')() == zero)</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(y'^i':diff(x)() == zero)</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(y'^i':diff(x'^p')() == y'^i':diff(x'^p'))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(y'^i':diff(x'^pq')() == zero)</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(y'^ij':diff(x)() == zero)</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(y'^ij':diff(x'^p')() == zero)</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(y'^ij':diff(x'^pq')() == zero)</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code></code>
</td><td>
<tr><td>
<b>testing graph dependency z(y(x)), z depends on x</b><br>
<code></code>
</td><td>
<tr><td>
<b></b><br>
<code>x = symmath.var'x'</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>y = symmath.var('y', {x})</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>z = symmath.var('z', {y})</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code></code>
</td><td>
<tr><td>
<b></b><br>
<code>assert(true == z:dependsOn(z))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(true == z:dependsOn(y))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(true == z:dependsOn(x))</code>
</td><td>
expected false to be true<br>
<span style="color:red">BAD</span><br>/home/chris/Projects/lua/symmath/tests/unit/unit.lua:11: failed<br>stack traceback:<br>
	/home/chris/Projects/lua/symmath/tests/unit/unit.lua:103: in function </home/chris/Projects/lua/symmath/tests/unit/unit.lua:102><br>
	[C]: in function 'error'<br>
	/home/chris/Projects/lua/symmath/tests/unit/unit.lua:11: in global 'assert'<br>
	[string "assert(true == z:dependsOn(x))"]:1: in main chunk<br>
	/home/chris/Projects/lua/symmath/tests/unit/unit.lua:95: in function </home/chris/Projects/lua/symmath/tests/unit/unit.lua:94><br>
	[C]: in function 'xpcall'<br>
	/home/chris/Projects/lua/symmath/tests/unit/unit.lua:94: in field 'exec'<br>
	./variable depends.lua:189: in local 'cb'<br>
	/home/chris/Projects/lua/ext/timer.lua:49: in function 'ext.timer.timer'<br>
	(...tail calls...)<br>
	./variable depends.lua:6: in main chunk<br>
	[C]: in ?
</td></tr>
<tr><td>
<b></b><br>
<code>assert(false == y:dependsOn(z))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(true == y:dependsOn(y))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(true == y:dependsOn(x))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(false == x:dependsOn(z))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(false == x:dependsOn(y))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(true == x:dependsOn(x))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code></code>
</td><td>
<tr><td>
<b></b><br>
<code>assert(false == z:dependsOn(z'^I'))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(false == z:dependsOn(y'^I'))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(false == z:dependsOn(x'^I'))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(false == y:dependsOn(z'^I'))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(false == y:dependsOn(y'^I'))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(false == y:dependsOn(x'^I'))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(false == x:dependsOn(z'^I'))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(false == x:dependsOn(y'^I'))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(false == x:dependsOn(x'^I'))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code></code>
</td><td>
<tr><td>
<b></b><br>
<code>assert(false == z'^I':dependsOn(z))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(false == z'^I':dependsOn(y))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(false == z'^I':dependsOn(x))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(false == y'^I':dependsOn(z))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(false == y'^I':dependsOn(y))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(false == y'^I':dependsOn(x))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(false == x'^I':dependsOn(z))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(false == x'^I':dependsOn(y))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(false == x'^I':dependsOn(x))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code></code>
</td><td>
<tr><td>
<b>by default</b><br>
<code>assert(true == z'^I':dependsOn(z'^I'))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(false == z'^I':dependsOn(y'^I'))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(false == z'^I':dependsOn(x'^I'))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(false == y'^I':dependsOn(z'^I'))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b>by default</b><br>
<code>assert(true == y'^I':dependsOn(y'^I'))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(false == y'^I':dependsOn(x'^I'))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(false == x'^I':dependsOn(z'^I'))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(false == x'^I':dependsOn(y'^I'))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b>by default</b><br>
<code>assert(true == x'^I':dependsOn(x'^I'))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code></code>
</td><td>
<tr><td>
<b></b><br>
<code></code>
</td><td>
<tr><td>
<b>testing graph dependency z(y(x'^I')), z depends on x</b><br>
<code></code>
</td><td>
<tr><td>
<b></b><br>
<code>x = symmath.var'x'</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>y = symmath.var'y'</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>y:setDependentVars(x'^I')</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>z = symmath.var'z'</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>z:setDependentVars(y)</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code></code>
</td><td>
<tr><td>
<b></b><br>
<code>assert(true == z:dependsOn(z))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(true == z:dependsOn(y))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(true == z:dependsOn(x'^I'))</code>
</td><td>
expected false to be true<br>
<span style="color:red">BAD</span><br>/home/chris/Projects/lua/symmath/tests/unit/unit.lua:11: failed<br>stack traceback:<br>
	/home/chris/Projects/lua/symmath/tests/unit/unit.lua:103: in function </home/chris/Projects/lua/symmath/tests/unit/unit.lua:102><br>
	[C]: in function 'error'<br>
	/home/chris/Projects/lua/symmath/tests/unit/unit.lua:11: in global 'assert'<br>
	[string "assert(true == z:dependsOn(x'^I'))"]:1: in main chunk<br>
	/home/chris/Projects/lua/symmath/tests/unit/unit.lua:95: in function </home/chris/Projects/lua/symmath/tests/unit/unit.lua:94><br>
	[C]: in function 'xpcall'<br>
	/home/chris/Projects/lua/symmath/tests/unit/unit.lua:94: in field 'exec'<br>
	./variable depends.lua:189: in local 'cb'<br>
	/home/chris/Projects/lua/ext/timer.lua:49: in function 'ext.timer.timer'<br>
	(...tail calls...)<br>
	./variable depends.lua:6: in main chunk<br>
	[C]: in ?
</td></tr>
<tr><td>
<b></b><br>
<code>assert(false == y:dependsOn(z))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(true == y:dependsOn(y))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(true == y:dependsOn(x'^I'))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(false == x'^I':dependsOn(z))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(false == x'^I':dependsOn(y))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>assert(true == x'^I':dependsOn(x'^I'))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
