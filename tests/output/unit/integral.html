<!doctype html>
<html>
	<head>
		<meta charset='utf-8'>
		<title>integral</title>
		<script type='text/javascript' src='../tryToFindMathJax.js'></script>
	</head>
	<body onload='tryToFindMathJax();'>

<table border="1" style="border-collapse:collapse">
<tr><td>
<b>integrate constants</b><br>
<code></code>
</td><td>
<tr><td>
<b></b><br>
<code>asserteq(Constant(1):integrate(x), x)</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>asserteq(y:integrate(x), x * y)</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code></code>
</td><td>
<tr><td>
<b></b><br>
<code>asserteq(Constant(1):integrate(x, xL, xR), (xR - xL))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code></code>
</td><td>
<tr><td>
<b>definite integral bounds:</b><br>
<code></code>
</td><td>
<tr><td>
<b>asserteq(x:integrate(x, xL, xR), ((xR^2 - xL^2)/2))	-- hmm, the infamous minus sign factoring simplificaiton error...</b><br>
<code></code>
</td><td>
<tr><td>
<b>instead I'll just test this ...</b><br>
<code>asserteq((x:integrate(x, xL, xR) - (xR^2 - xL^2)/2), Constant(0))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code></code>
</td><td>
<tr><td>
<b>$x^n$ integrals:</b><br>
<code></code>
</td><td>
<tr><td>
<b></b><br>
<code>asserteq(x:integrate(x), x^2 / 2)</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>asserteq((x^2):integrate(x), x^3 / 3)</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>asserteq(((x^-2):integrate(x) - (-1/x)), Constant(0))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>asserteq((1/x):integrate(x), log(abs(x)))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>asserteq((x^-1):integrate(x), log(abs(x)))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>asserteq((1/(2*x^2)):integrate(x), -(1/(2*x)))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code></code>
</td><td>
<tr><td>
<b></b><br>
<code>asserteq((x^frac(1,2)):integrate(x), frac(2 * x * sqrt(x), 3))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>asserteq(sqrt(x):integrate(x), frac(2 * x * sqrt(x), 3))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code></code>
</td><td>
<tr><td>
<b></b><br>
<code>asserteq((1/x):integrate(x), log(abs(x)))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code></code>
</td><td>
<tr><td>
<b></b><br>
<code>asserteq((2/x):integrate(x), (2*log(abs(x))))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>asserteq((1/(2*x)):integrate(x), (log(abs(x))/2))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code></code>
</td><td>
<tr><td>
<b></b><br>
<code>asserteq((1/(x*(3*x+4))):integrate(x)(), log(1 / abs( (4 + 3 * x) / x)^frac(1,4)))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code></code>
</td><td>
<tr><td>
<b></b><br>
<code>asserteq(sin(x):integrate(x)(), -cos(x))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>asserteq(cos(x):integrate(x)(), sin(x))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code></code>
</td><td>
<tr><td>
<b></b><br>
<code>asserteq(sin(2*x):integrate(x)(), (-cos(2*x)/2))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>asserteq(cos(y*x):integrate(x)(), (sin(y*x)/y))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code></code>
</td><td>
<tr><td>
<b></b><br>
<code>asserteq((cos(x)/sin(x)):integrate(x), log(abs(sin(x))))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code></code>
</td><td>
<tr><td>
<b></b><br>
<code>asserteq((cos(x)^2):integrate(x)(), frac(1,4) * (2 * x + sin(2 * x)))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code></code>
</td><td>
<tr><td>
<b></b><br>
<code>asserteq(sinh(x):integrate(x), cosh(x))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>asserteq(cosh(x):integrate(x), sinh(x))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code></code>
</td><td>
<tr><td>
<b></b><br>
<code></code>
</td><td>
<tr><td>
<b>multiple integrals</b><br>
<code></code>
</td><td>
<tr><td>
<b></b><br>
<code></code>
</td><td>
<tr><td>
<b></b><br>
<code>asserteq((x * y):integrate(x), frac(1,2) * x^2 * y)</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>asserteq((x * y):integrate(x)():integrate(y)(), frac(1,4) * x^2 * y^2)</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>asserteq((x * y):integrate(x):integrate(y)(), frac(1,4) * x^2 * y^2)</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>asserteq((r * cos(x)):integrate(r)():integrate(x)(), frac(1,2) * r^2 * sin(x))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>asserteq((r * cos(x)):integrate(x)():integrate(r)(), frac(1,2) * r^2 * sin(x))</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code></code>
</td><td>
<tr><td>
<b></b><br>
<code>asserteq( ( cosh(a * x) * sinh(a * x) ):integrate(x), cosh(a * x)^2 / (2 * a) )</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
<tr><td>
<b></b><br>
<code>asserteq( ( cosh(a * x) * sinh(b * x) ):integrate(x), 1 / ((a + b) * (a - b)) * (-b * cosh(a*x) * cosh(b*x) + a * sinh(a*x) * sinh(b*x)) )</code>
</td><td>
expected $\int d x\left({{{cosh\left( {{{a}} {{x}}}\right)}} {{sinh\left( {{{b}} {{x}}}\right)}}}\right)$ to equal ${{\frac{1}{{{({{a} + {b}})}} {{({{a} - {b}})}}}}} {{({{ {-{b}} {{cosh\left( {{{a}} {{x}}}\right)}} {{cosh\left( {{{b}} {{x}}}\right)}}} + {{{a}} {{sinh\left( {{{a}} {{x}}}\right)}} {{sinh\left( {{{b}} {{x}}}\right)}}}})}}$<br>
instead found $\frac{{{{a}} {{sinh\left( {{{a}} {{x}}}\right)}} {{sinh\left( {{{b}} {{x}}}\right)}}} - {{{b}} {{cosh\left( {{{b}} {{x}}}\right)}} {{cosh\left( {{{a}} {{x}}}\right)}}}}{{{({{a} - {b}})}} {{({{a} + {b}})}}}$ vs $\frac{{-{{{b}} {{cosh\left( {{{b}} {{x}}}\right)}} {{cosh\left( {{{a}} {{x}}}\right)}}}} + {{{a}} {{sinh\left( {{{a}} {{x}}}\right)}} {{sinh\left( {{{b}} {{x}}}\right)}}}}{{{({{a} - {b}})}} {{({{a} + {b}})}}}$<br>
lhs stack<br>
init	$\int d x\left({{{cosh\left( {{{a}} {{x}}}\right)}} {{sinh\left( {{{b}} {{x}}}\right)}}}\right)$	<br>
prune	${{\frac{1}{{{a}^{2}} - {{b}^{2}}}}} {{({{{{a}} {{sinh\left( {{{a}} {{x}}}\right)}} {{sinh\left( {{{b}} {{x}}}\right)}}} - {{{b}} {{cosh\left( {{{a}} {{x}}}\right)}} {{cosh\left( {{{b}} {{x}}}\right)}}}})}}$	<br>
expand	${{{\frac{1}{{{{a}} {{a}}} + {{{-1}} {{b}} {{b}}}}}} {{{{a}} {{sinh\left( {{{a}} {{x}}}\right)}} {{sinh\left( {{{b}} {{x}}}\right)}}}}} + {{{\frac{1}{{{{a}} {{a}}} + {{{-1}} {{b}} {{b}}}}}} {{{{-1}} {{b}} {{cosh\left( {{{a}} {{x}}}\right)}} {{cosh\left( {{{b}} {{x}}}\right)}}}}}$	<br>
prune	$\frac{{{{a}} {{sinh\left( {{{b}} {{x}}}\right)}} {{sinh\left( {{{a}} {{x}}}\right)}} {{({{{a}^{2}} + {{{-1}} {{{b}^{2}}}}})}}} + {{{-1}} {{b}} {{cosh\left( {{{b}} {{x}}}\right)}} {{cosh\left( {{{a}} {{x}}}\right)}} {{({{{a}^{2}} + {{{-1}} {{{b}^{2}}}}})}}}}{{{({{{a}^{2}} + {{{-1}} {{{b}^{2}}}}})}} {{({{{a}^{2}} + {{{-1}} {{{b}^{2}}}}})}}}$	<br>
factor	$\frac{{{({{a} + {b}})}} {{({{a} + {{{-1}} {{b}}}})}} {{({{{{a}} {{sinh\left( {{{a}} {{x}}}\right)}} {{sinh\left( {{{b}} {{x}}}\right)}}} + {{{-1}} {{b}} {{cosh\left( {{{b}} {{x}}}\right)}} {{cosh\left( {{{a}} {{x}}}\right)}}}})}}}{{{{{({{{a}^{({\frac{2}{2}})}} + {{b}^{({\frac{2}{2}})}}})}} {{({{{a}^{({\frac{2}{2}})}} - {{b}^{({\frac{2}{2}})}}})}}}} {{{{({{{a}^{({\frac{2}{2}})}} + {{b}^{({\frac{2}{2}})}}})}} {{({{{a}^{({\frac{2}{2}})}} - {{b}^{({\frac{2}{2}})}}})}}}}}$	<br>
prune	$\frac{{{{a}} {{sinh\left( {{{a}} {{x}}}\right)}} {{sinh\left( {{{b}} {{x}}}\right)}}} + {{{-1}} {{b}} {{cosh\left( {{{b}} {{x}}}\right)}} {{cosh\left( {{{a}} {{x}}}\right)}}}}{{{({{a} + {{{-1}} {{b}}}})}} {{({{a} + {b}})}}}$	<br>
expand	$\frac{{{{a}} {{sinh\left( {{{a}} {{x}}}\right)}} {{sinh\left( {{{b}} {{x}}}\right)}}} + {{{-1}} {{b}} {{cosh\left( {{{b}} {{x}}}\right)}} {{cosh\left( {{{a}} {{x}}}\right)}}}}{{{{{a}} {{a}}} + {{{a}} {{b}}}} + {{{{{{-1}} {{b}}}} {{a}}} + {{{{{-1}} {{b}}}} {{b}}}}}$	<br>
prune	$\frac{{{{a}} {{sinh\left( {{{a}} {{x}}}\right)}} {{sinh\left( {{{b}} {{x}}}\right)}}} + {{{-1}} {{b}} {{cosh\left( {{{a}} {{x}}}\right)}} {{cosh\left( {{{b}} {{x}}}\right)}}}}{{{a}^{2}} + {{{-1}} {{{b}^{2}}}}}$	<br>
factor	$\frac{{{{a}} {{sinh\left( {{{a}} {{x}}}\right)}} {{sinh\left( {{{b}} {{x}}}\right)}}} + {{{-1}} {{b}} {{cosh\left( {{{a}} {{x}}}\right)}} {{cosh\left( {{{b}} {{x}}}\right)}}}}{{{({{{a}^{({\frac{2}{2}})}} + {{b}^{({\frac{2}{2}})}}})}} {{({{{a}^{({\frac{2}{2}})}} - {{b}^{({\frac{2}{2}})}}})}}}$	<br>
prune	$\frac{{{{a}} {{sinh\left( {{{a}} {{x}}}\right)}} {{sinh\left( {{{b}} {{x}}}\right)}}} + {{{-1}} {{b}} {{cosh\left( {{{b}} {{x}}}\right)}} {{cosh\left( {{{a}} {{x}}}\right)}}}}{{{({{a} + {{{-1}} {{b}}}})}} {{({{a} + {b}})}}}$	<br>
rhs stack<br>
init	${{\frac{1}{{{({{a} + {b}})}} {{({{a} - {b}})}}}}} {{({{ {-{b}} {{cosh\left( {{{a}} {{x}}}\right)}} {{cosh\left( {{{b}} {{x}}}\right)}}} + {{{a}} {{sinh\left( {{{a}} {{x}}}\right)}} {{sinh\left( {{{b}} {{x}}}\right)}}}})}}$	<br>
prune	$\frac{{{{-1}} {{b}} {{cosh\left( {{{b}} {{x}}}\right)}} {{cosh\left( {{{a}} {{x}}}\right)}}} + {{{a}} {{sinh\left( {{{a}} {{x}}}\right)}} {{sinh\left( {{{b}} {{x}}}\right)}}}}{{{({{a} + {b}})}} {{({{a} + {{{-1}} {{b}}}})}}}$	<br>
expand	$\frac{{{{-1}} {{b}} {{cosh\left( {{{b}} {{x}}}\right)}} {{cosh\left( {{{a}} {{x}}}\right)}}} + {{{a}} {{sinh\left( {{{a}} {{x}}}\right)}} {{sinh\left( {{{b}} {{x}}}\right)}}}}{{{{{a}} {{a}}} + {{{a}} {{{{-1}} {{b}}}}}} + {{{{b}} {{a}}} + {{{b}} {{{{-1}} {{b}}}}}}}$	<br>
prune	$\frac{{{{-1}} {{b}} {{cosh\left( {{{a}} {{x}}}\right)}} {{cosh\left( {{{b}} {{x}}}\right)}}} + {{{a}} {{sinh\left( {{{a}} {{x}}}\right)}} {{sinh\left( {{{b}} {{x}}}\right)}}}}{{{a}^{2}} + {{{-1}} {{{b}^{2}}}}}$	<br>
factor	$\frac{{{{-1}} {{b}} {{cosh\left( {{{a}} {{x}}}\right)}} {{cosh\left( {{{b}} {{x}}}\right)}}} + {{{a}} {{sinh\left( {{{a}} {{x}}}\right)}} {{sinh\left( {{{b}} {{x}}}\right)}}}}{{{({{{a}^{({\frac{2}{2}})}} + {{b}^{({\frac{2}{2}})}}})}} {{({{{a}^{({\frac{2}{2}})}} - {{b}^{({\frac{2}{2}})}}})}}}$	<br>
prune	$\frac{{{{-1}} {{b}} {{cosh\left( {{{b}} {{x}}}\right)}} {{cosh\left( {{{a}} {{x}}}\right)}}} + {{{a}} {{sinh\left( {{{a}} {{x}}}\right)}} {{sinh\left( {{{b}} {{x}}}\right)}}}}{{{({{a} + {{{-1}} {{b}}}})}} {{({{a} + {b}})}}}$	<br>
<span style="color:red">BAD</span><br>./unit.lua:28: failed<br>stack traceback:<br>
	./unit.lua:93: in function <./unit.lua:92><br>
	[C]: in function 'error'<br>
	./unit.lua:28: in global 'asserteq'<br>
	[string "asserteq( ( cosh(a * x) * sinh(b * x) ):integ..."]:1: in main chunk<br>
	./unit.lua:85: in function <./unit.lua:84><br>
	[C]: in function 'xpcall'<br>
	./unit.lua:84: in field 'exec'<br>
	./integral.lua:72: in main chunk<br>
	[C]: in ?
</td></tr>
<tr><td>
<b></b><br>
<code></code>
</td><td>
<tr><td>
<b></b><br>
<code>asserteq( ( sinh(a * x)^2 * cosh(a * x) ):integrate(x), sinh(a * x)^3 / (3 * a) )</code>
</td><td>

<span style="color:green">GOOD</span>
</td></tr>
