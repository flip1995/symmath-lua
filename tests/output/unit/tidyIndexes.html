<!doctype html>
<html>
	<head>
		<meta charset='utf-8'>
		<title>tests/unit/tidyIndexes</title>
		<script type='text/javascript' src='../tryToFindMathJax.js'></script>
	</head>
	<body onload='tryToFindMathJax();'>

<table border="1" style="border-collapse:collapse">
<tr><td>
<b></b><br>
<code>simplifyAssertEq((a'^b' * b'^in_n' * c'^a_ab'):tidyIndexes(), a'^a' * b'^ib_b' * c'^c_ca')</code>
</td><td>

<span style="color:green">GOOD</span>
</td><td>
time: 6.578000ms<br>
stack: size: 8<br><ul style="margin:0px"><li>Init<br><li>Prune<br><li>Expand<br><li>Prune<br><li>Factor<br><li>Prune<br><li>*/Tidy/apply<br><li>Tidy</ul>
</td></tr>
<tr><td>
<b></b><br>
<code></code>
</td><td>
</td><td>
</td></tr>
<tr><td>
<b></b><br>
<code>simplifyAssertEq((a'^a' * b'^b_ba'):tidyIndexes(), a'^a' * b'^b_ba')</code>
</td><td>

<span style="color:green">GOOD</span>
</td><td>
time: 2.996000ms<br>
stack: size: 8<br><ul style="margin:0px"><li>Init<br><li>Prune<br><li>Expand<br><li>Prune<br><li>Factor<br><li>Prune<br><li>*/Tidy/apply<br><li>Tidy</ul>
</td></tr>
<tr><td>
<b></b><br>
<code>simplifyAssertEq((a'^i_i' * b'^j_j'):tidyIndexes(), a'^a_a' * b'^b_b')</code>
</td><td>

<span style="color:green">GOOD</span>
</td><td>
time: 1.814000ms<br>
stack: size: 8<br><ul style="margin:0px"><li>Init<br><li>Prune<br><li>Expand<br><li>Prune<br><li>Factor<br><li>Prune<br><li>*/Tidy/apply<br><li>Tidy</ul>
</td></tr>
<tr><td>
<b></b><br>
<code></code>
</td><td>
</td><td>
</td></tr>
<tr><td>
<b></b><br>
<code>simplifyAssertEq(a'^i_i^j_j':tidyIndexes(), a'^a_a^b_b')</code>
</td><td>

<span style="color:green">GOOD</span>
</td><td>
time: 0.905000ms<br>
stack: size: 7<br><ul style="margin:0px"><li>Init<br><li>Prune<br><li>Expand<br><li>Prune<br><li>Factor<br><li>Prune<br><li>Tidy</ul>
</td></tr>
<tr><td>
<b></b><br>
<code>simplifyAssertEq((a'^i_i' + a'^j_j'):tidyIndexes(), 2 * a'^a_a')</code>
</td><td>

<span style="color:green">GOOD</span>
</td><td>
time: 1.276000ms<br>
stack: size: 8<br><ul style="margin:0px"><li>Init<br><li>Prune<br><li>Expand<br><li>Prune<br><li>Factor<br><li>Prune<br><li>*/Tidy/apply<br><li>Tidy</ul>
</td></tr>
<tr><td>
<b></b><br>
<code>simplifyAssertEq((a'^ij' * (b'_jk' + c'_jk')):tidyIndexes(), a'^ia' * (b'_ak' + c'_ak'))</code>
</td><td>

<span style="color:green">GOOD</span>
</td><td>
time: 3.206000ms<br>
stack: size: 16<br><ul style="margin:0px"><li>Init<br><li>Prune<br><li>*/Expand/apply<br><li>Expand<br><li>Prune<br><li>unm/Prune/apply<br><li>+/Prune/combineConstants<br><li>-/Prune/apply<br><li>unm/Prune/apply<br><li>+/Prune/combineConstants<br><li>-/Prune/apply<br><li>+/Factor/apply<br><li>Factor<br><li>Prune<br><li>*/Tidy/apply<br><li>Tidy</ul>
</td></tr>
<tr><td>
<b></b><br>
<code>simplifyAssertEq((a'_ijk' * b'^jk' + a'_ilm' * b'^lm'):tidyIndexes(), 2 * a'_iab' * b'^ab')</code>
</td><td>

<span style="color:green">GOOD</span>
</td><td>
time: 2.996000ms<br>
stack: size: 8<br><ul style="margin:0px"><li>Init<br><li>Prune<br><li>Expand<br><li>Prune<br><li>Factor<br><li>Prune<br><li>*/Tidy/apply<br><li>Tidy</ul>
</td></tr>
<tr><td>
<b></b><br>
<code>simplifyAssertEq((a'_ajk' * b'^jk' + a'_alm' * b'^lm'):tidyIndexes(), 2 * a'_abc' * b'^bc')</code>
</td><td>

<span style="color:green">GOOD</span>
</td><td>
time: 4.614000ms<br>
stack: size: 8<br><ul style="margin:0px"><li>Init<br><li>Prune<br><li>Expand<br><li>Prune<br><li>Factor<br><li>Prune<br><li>*/Tidy/apply<br><li>Tidy</ul>
</td></tr>
<tr><td>
<b></b><br>
<code>simplifyAssertEq((c'^pq' * (d'_ipqj' + d'_jpqi') - c'^mr' * (d'_imrj' + d'_jmri')):tidyIndexes(), 0)</code>
</td><td>

<span style="color:green">GOOD</span>
</td><td>
time: 9.020000ms<br>
stack: size: 8<br><ul style="margin:0px"><li>Init<br><li>Prune<br><li>Expand<br><li>Prune<br><li>Factor<br><li>Prune<br><li>Constant/Tidy/apply<br><li>Tidy</ul>
</td></tr>
<tr><td>
<b></b><br>
<code>simplifyAssertEq(((a'^k' + b'^k') * (c'_k' + d'_k')):tidyIndexes(), (a'^a' + b'^a') * (c'_a' + d'_a'))</code>
</td><td>

<span style="color:green">GOOD</span>
</td><td>
time: 7.128000ms<br>
stack: size: 21<br><ul style="margin:0px"><li>Init<br><li>Prune<br><li>*/Expand/apply<br><li>*/Expand/apply<br><li>*/Expand/apply<br><li>Expand<br><li>+/Prune/flatten<br><li>Prune<br><li>+/Factor/apply<br><li>Factor<br><li>Prune<br><li>Expand<br><li>Prune<br><li>+/Factor/apply<br><li>Factor<br><li>Prune<br><li>*/Tidy/apply<br><li>*/Tidy/apply<br><li>*/Tidy/apply<br><li>*/Tidy/apply<br><li>Tidy</ul>
</td></tr>
<tr><td>
<b></b><br>
<code>simplifyAssertEq((a'^i' * (b'_i' + c'_i^j' * d'_j')):tidyIndexes(), a'^a' * (b'_a' + c'_a^b' * d'_b'))</code>
</td><td>

<span style="color:green">GOOD</span>
</td><td>
time: 4.815000ms<br>
stack: size: 18<br><ul style="margin:0px"><li>Init<br><li>Prune<br><li>*/Expand/apply<br><li>Expand<br><li>*/Prune/flatten<br><li>Prune<br><li>unm/Prune/apply<br><li>+/Prune/combineConstants<br><li>-/Prune/apply<br><li>unm/Prune/apply<br><li>+/Prune/combineConstants<br><li>-/Prune/apply<br><li>+/Factor/apply<br><li>Factor<br><li>Prune<br><li>*/Tidy/apply<br><li>*/Tidy/apply<br><li>Tidy</ul>
</td></tr>
<tr><td>
<b></b><br>
<code>simplifyAssertEq(((a'^i' + b'^i_j' * c'^j') * (d'_i' + e'_i^k' * f'_k')):tidyIndexes(), a'^a' * d'_a' + c'^a' * b'^b_a' * d'_b' + a'^a' * f'_b' * e'_a^b' + c'^a' * f'_b' * b'^c_a' * e'_c^b')</code>
</td><td>

<span style="color:green">GOOD</span>
</td><td>
time: 9.582000ms<br>
stack: size: 12<br><ul style="margin:0px"><li>Init<br><li>Prune<br><li>Expand<br><li>Prune<br><li>+/Factor/apply<br><li>Factor<br><li>Prune<br><li>*/Tidy/apply<br><li>*/Tidy/apply<br><li>*/Tidy/apply<br><li>*/Tidy/apply<br><li>Tidy</ul>
</td></tr>
<tr><td>
<b></b><br>
<code>simplifyAssertEq((-a'_i' * a'_j' + (d'_ji^k' + d'_ij^k' - d'^k_ij') * (a'_k' + c'_k' - d'^l_lk')):tidyIndexes(), -a'_i' * a'_j' + (d'_ji^a' + d'_ij^a' - d'^a_ij') * (a'_a' + c'_a' - d'^b_ba') )</code>
</td><td>

<span style="color:green">GOOD</span>
</td><td>
time: 34.291000ms<br>
stack: size: 111<br><ul style="margin:0px"><li>Init<br><li>unm/Prune/apply<br><li>*/Prune/flatten<br><li>unm/Prune/apply<br><li>-/Prune/apply<br><li>unm/Prune/apply<br><li>-/Prune/apply<br><li>Prune<br><li>*/Expand/apply<br><li>*/Expand/apply<br><li>*/Expand/apply<br><li>*/Expand/apply<br><li>Expand<br><li>*/Prune/flatten<br><li>*/Prune/flatten<br><li>*/Prune/flatten<br><li>*/Prune/flatten<br><li>*/Prune/flatten<br><li>*/Prune/flatten<br><li>+/Prune/flatten<br><li>+/Prune/flatten<br><li>Prune<br><li>+/Factor/apply<br><li>Factor<br><li>Prune<br><li>Expand<br><li>Prune<br><li>+/Factor/apply<br><li>Factor<br><li>Prune<br><li>*/Tidy/apply<br><li>*/Tidy/apply<br><li>*/Tidy/apply<br><li>*/Tidy/apply<br><li>*/Tidy/apply<br><li>Constant/Tidy/apply<br><li>*/Tidy/apply<br><li>*/Tidy/apply<br><li>*/Tidy/apply<br><li>Constant/Tidy/apply<br><li>*/Tidy/apply<br><li>*/Tidy/apply<br><li>*/Tidy/apply<br><li>Constant/Tidy/apply<br><li>*/Tidy/apply<br><li>*/Tidy/apply<br><li>*/Tidy/apply<br><li>Constant/Tidy/apply<br><li>*/Tidy/apply<br><li>*/Tidy/apply<br><li>*/Tidy/apply<br><li>Constant/Tidy/apply<br><li>*/Tidy/apply<br><li>*/Tidy/apply<br><li>*/Tidy/apply<br><li>*/Tidy/apply<br><li>*/Tidy/apply<br><li>*/Tidy/apply<br><li>*/Tidy/apply<br><li>*/Tidy/apply<br><li>*/Tidy/apply<br><li>*/Tidy/apply<br><li>*/Tidy/apply<br><li>*/Tidy/apply<br><li>*/Tidy/apply<br><li>*/Tidy/apply<br><li>*/Tidy/apply<br><li>*/Tidy/apply<br><li>*/Tidy/apply<br><li>*/Tidy/apply<br><li>*/Tidy/apply<br><li>*/Tidy/apply<br><li>*/Tidy/apply<br><li>*/Tidy/apply<br><li>*/Tidy/apply<br><li>*/Tidy/apply<br><li>*/Tidy/apply<br><li>*/Tidy/apply<br><li>*/Tidy/apply<br><li>*/Tidy/apply<br><li>*/Tidy/apply<br><li>*/Tidy/apply<br><li>*/Tidy/apply<br><li>*/Tidy/apply<br><li>*/Tidy/apply<br><li>*/Tidy/apply<br><li>*/Tidy/apply<br><li>*/Tidy/apply<br><li>*/Tidy/apply<br><li>*/Tidy/apply<br><li>*/Tidy/apply<br><li>*/Tidy/apply<br><li>*/Tidy/apply<br><li>*/Tidy/apply<br><li>*/Tidy/apply<br><li>*/Tidy/apply<br><li>*/Tidy/apply<br><li>*/Tidy/apply<br><li>*/Tidy/apply<br><li>*/Tidy/apply<br><li>*/Tidy/apply<br><li>*/Tidy/apply<br><li>*/Tidy/apply<br><li>*/Tidy/apply<br><li>*/Tidy/apply<br><li>+/Tidy/apply<br><li>+/Tidy/apply<br><li>+/Tidy/apply<br><li>+/Tidy/apply<br><li>+/Tidy/apply<br><li>Tidy</ul>
</td></tr>
<tr><td>
<b></b><br>
<code>simplifyAssertEq((a'^j_aj' * b'^a' - a'^k_jk' * b'^j'):tidyIndexes(), 0)</code>
</td><td>

<span style="color:green">GOOD</span>
</td><td>
time: 2.845000ms<br>
stack: size: 8<br><ul style="margin:0px"><li>Init<br><li>Prune<br><li>Expand<br><li>Prune<br><li>Factor<br><li>Prune<br><li>Constant/Tidy/apply<br><li>Tidy</ul>
</td></tr>
<tr><td>
<b></b><br>
<code></code>
</td><td>
</td><td>
</td></tr>
<tr><td>
<b>should tidyIndexes automatically simplify()?  or at least add.Factor?  otherwise mul terms don't get sorted.</b><br>
<code>simplifyAssertEq((2 * phi_K^4 * A' _\\alpha' * F' _\\gamma ^\\beta' * F' _\\beta ^\\gamma' * A' ^\\alpha' + phi_K^2 * F' _\\beta ^\\alpha' * F' _\\alpha ^\\beta' + 4 * R - 2 * phi_K^4 * F' _\\beta ^\\alpha' * A' _\\gamma' * F' _\\alpha ^\\beta' * A' ^\\gamma')():tidyIndexes()(), 4 * R + F'_a^b' * F'_b^a' * phi_K^2)</code>
</td><td>

<span style="color:green">GOOD</span>
</td><td>
time: 19.323000ms<br>
stack: size: 10<br><ul style="margin:0px"><li>Init<br><li>Prune<br><li>^/Expand/integerPower<br><li>Expand<br><li>+/Prune/combineConstants<br><li>*/Prune/apply<br><li>Prune<br><li>Factor<br><li>Prune<br><li>Tidy</ul>
</td></tr>
<tr><td>
<b></b><br>
<code></code>
</td><td>
</td><td>
</td></tr>
<tr><td>
<b>this uses the first available indexes</b><br>
<code>simplifyAssertEq((a'^i' * b'^j_ji'):tidyIndexes(), a'^a' * b'^b_ba')</code>
</td><td>

<span style="color:green">GOOD</span>
</td><td>
time: 1.519000ms<br>
stack: size: 8<br><ul style="margin:0px"><li>Init<br><li>Prune<br><li>Expand<br><li>Prune<br><li>Factor<br><li>Prune<br><li>*/Tidy/apply<br><li>Tidy</ul>
</td></tr>
