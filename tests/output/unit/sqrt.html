<!doctype html>
<html>
	<head>
		<meta charset='utf-8'>
		<title>tests/unit/sqrt</title>
		<script type='text/javascript' src='../tryToFindMathJax.js'></script>
	</head>
	<body onload='tryToFindMathJax();'>

<table border="1" style="border-collapse:collapse">
<tr><td>
<b></b><br>
<code>print(sqrt(-1)())</code>
</td><td>
$i$

<span style="color:green">GOOD</span>
</td><td>
time: 0.114000ms<br>
stack: size: 9<br><ul style="margin:0px"><li>Init<br><li>^/Prune/sqrtFix4<br><li>sqrt/Prune/apply<br><li>Prune<br><li>Expand<br><li>Prune<br><li>Factor<br><li>Prune<br><li>Tidy</ul>
</td></tr>
<tr><td>
<b></b><br>
<code>simplifyAssertEq(sqrt(-1), i)</code>
</td><td>

<span style="color:green">GOOD</span>
</td><td>
time: 0.067000ms<br>
stack: size: 7<br><ul style="margin:0px"><li>Init<br><li>Prune<br><li>Expand<br><li>Prune<br><li>Factor<br><li>Prune<br><li>Tidy</ul>
</td></tr>
<tr><td>
<b></b><br>
<code></code>
</td><td>
</td><td>
</td></tr>
<tr><td>
<b>make sure, when distributing sqrt()'s, that the negative signs on the inside are simplified in advance</b><br>
<code></code>
</td><td>
</td><td>
</td></tr>
<tr><td>
<b></b><br>
<code>simplifyAssertEq( ((((-x*a - x*b)))^frac(1,2)), i * (sqrt(x) * sqrt(a+b)) )</code>
</td><td>

<span style="color:green">GOOD</span>
</td><td>
time: 5.444000ms<br>
stack: size: 16<br><ul style="margin:0px"><li>Init<br><li>sqrt/Prune/apply<br><li>sqrt/Prune/apply<br><li>Prune<br><li>Expand<br><li>Prune<br><li>+/Factor/apply<br><li>*/Factor/combineMulOfLikePow<br><li>Factor<br><li>^/Prune/expandMulOfLikePow<br><li>*/Prune/flatten<br><li>Prune<br><li>^/Tidy/apply<br><li>^/Tidy/apply<br><li>*/Tidy/apply<br><li>Tidy</ul>
</td></tr>
<tr><td>
<b></b><br>
<code>simplifyAssertEq( (-(((-x*a - x*b)))^frac(1,2)), -i * (sqrt(x) * sqrt(a+b)) )</code>
</td><td>

<span style="color:green">GOOD</span>
</td><td>
time: 5.866000ms<br>
stack: size: 21<br><ul style="margin:0px"><li>Init<br><li>unm/Prune/apply<br><li>sqrt/Prune/apply<br><li>sqrt/Prune/apply<br><li>*/Prune/flatten<br><li>Prune<br><li>Expand<br><li>Prune<br><li>+/Factor/apply<br><li>*/Factor/combineMulOfLikePow<br><li>Factor<br><li>^/Prune/expandMulOfLikePow<br><li>*/Prune/flatten<br><li>Prune<br><li>Constant/Tidy/apply<br><li>^/Tidy/apply<br><li>^/Tidy/apply<br><li>*/Tidy/apply<br><li>*/Tidy/apply<br><li>*/Tidy/apply<br><li>Tidy</ul>
</td></tr>
<tr><td>
<b></b><br>
<code></code>
</td><td>
</td><td>
</td></tr>
<tr><td>
<b></b><br>
<code>simplifyAssertEq( ((((-x*a - x*b)*-1))^frac(1,2)), (sqrt(x) * sqrt(a+b)) )</code>
</td><td>

<span style="color:green">GOOD</span>
</td><td>
time: 4.480000ms<br>
stack: size: 15<br><ul style="margin:0px"><li>Init<br><li>sqrt/Prune/apply<br><li>sqrt/Prune/apply<br><li>Prune<br><li>Expand<br><li>Prune<br><li>+/Factor/apply<br><li>*/Factor/combineMulOfLikePow<br><li>Factor<br><li>^/Prune/expandMulOfLikePow<br><li>Prune<br><li>^/Tidy/apply<br><li>^/Tidy/apply<br><li>*/Tidy/apply<br><li>Tidy</ul>
</td></tr>
<tr><td>
<b></b><br>
<code>simplifyAssertEq( (-(((-x*a - x*b)*-1))^frac(1,2)), -(sqrt(x) * sqrt(a+b)) )</code>
</td><td>

<span style="color:green">GOOD</span>
</td><td>
time: 4.319000ms<br>
stack: size: 20<br><ul style="margin:0px"><li>Init<br><li>sqrt/Prune/apply<br><li>sqrt/Prune/apply<br><li>unm/Prune/apply<br><li>Prune<br><li>Expand<br><li>Prune<br><li>+/Factor/apply<br><li>*/Factor/combineMulOfLikePow<br><li>Factor<br><li>^/Prune/expandMulOfLikePow<br><li>*/Prune/flatten<br><li>Prune<br><li>Constant/Tidy/apply<br><li>^/Tidy/apply<br><li>^/Tidy/apply<br><li>*/Tidy/apply<br><li>*/Tidy/apply<br><li>*/Tidy/apply<br><li>Tidy</ul>
</td></tr>
<tr><td>
<b>If sqrt, -1, and mul factor run out of order then -sqrt(-x) and sqrt(-x) will end up equal.  And that isn't good for things like solve() on quadratics.</b><br>
<code></code>
</td><td>
</td><td>
</td></tr>
<tr><td>
<b></b><br>
<code>simplifyAssertEq( ((((-x*a - x*b)/-1)/y)^frac(1,2)), (sqrt(x) * sqrt(a+b)) / sqrt(y) )</code>
</td><td>

<span style="color:green">GOOD</span>
</td><td>
time: 8.305000ms<br>
stack: size: 37<br><ul style="margin:0px"><li>Init<br><li>sqrt/Prune/apply<br><li>sqrt/Prune/apply<br><li>sqrt/Prune/apply<br><li>Prune<br><li>Expand<br><li>Prune<br><li>+/Factor/apply<br><li>*/Factor/combineMulOfLikePow<br><li>//Factor/polydiv<br><li>Factor<br><li>^/Prune/expandMulOfLikePow<br><li>*/Prune/flatten<br><li>*/Prune/apply<br><li>*/Prune/factorDenominators<br><li>unm/Prune/apply<br><li>*/Prune/apply<br><li>unm/Prune/apply<br><li>+/Prune/combineConstants<br><li>-/Prune/apply<br><li>^/Prune/xToTheZero<br><li>*/Prune/apply<br><li>//Prune/apply<br><li>*/Prune/factorDenominators<br><li>+/Prune/combineConstants<br><li>//Prune/zeroOverX<br><li>+/Prune/factorOutDivs<br><li>-/Prune/apply<br><li>^/Prune/xToTheZero<br><li>//Prune/apply<br><li>*/Prune/factorDenominators<br><li>Prune<br><li>^/Tidy/apply<br><li>^/Tidy/apply<br><li>*/Tidy/apply<br><li>^/Tidy/apply<br><li>Tidy</ul>
</td></tr>
<tr><td>
<b></b><br>
<code>simplifyAssertEq( (-(((-x*a - x*b)/-1)/y)^frac(1,2)), -(sqrt(x) * sqrt(a+b)) / sqrt(y) )</code>
</td><td>

<span style="color:green">GOOD</span>
</td><td>
time: 10.458000ms<br>
stack: size: 44<br><ul style="margin:0px"><li>Init<br><li>sqrt/Prune/apply<br><li>sqrt/Prune/apply<br><li>unm/Prune/apply<br><li>sqrt/Prune/apply<br><li>Prune<br><li>Expand<br><li>Prune<br><li>+/Factor/apply<br><li>*/Factor/combineMulOfLikePow<br><li>//Factor/polydiv<br><li>Factor<br><li>^/Prune/expandMulOfLikePow<br><li>*/Prune/flatten<br><li>*/Prune/flatten<br><li>*/Prune/apply<br><li>*/Prune/factorDenominators<br><li>unm/Prune/apply<br><li>*/Prune/apply<br><li>unm/Prune/apply<br><li>+/Prune/combineConstants<br><li>-/Prune/apply<br><li>^/Prune/xToTheZero<br><li>*/Prune/apply<br><li>//Prune/apply<br><li>*/Prune/factorDenominators<br><li>+/Prune/combineConstants<br><li>//Prune/zeroOverX<br><li>+/Prune/factorOutDivs<br><li>-/Prune/apply<br><li>^/Prune/xToTheZero<br><li>//Prune/apply<br><li>*/Prune/factorDenominators<br><li>Prune<br><li>Constant/Tidy/apply<br><li>^/Tidy/apply<br><li>^/Tidy/apply<br><li>*/Tidy/apply<br><li>*/Tidy/apply<br><li>*/Tidy/apply<br><li>^/Tidy/apply<br><li>*/Tidy/apply<br><li>//Tidy/apply<br><li>Tidy</ul>
</td></tr>
<tr><td>
<b></b><br>
<code></code>
</td><td>
</td><td>
</td></tr>
<tr><td>
<b></b><br>
<code></code>
</td><td>
</td><td>
</td></tr>
<tr><td>
<b>simplifying expressions with sqrts in them</b><br>
<code></code>
</td><td>
</td><td>
</td></tr>
<tr><td>
<b></b><br>
<code>simplifyAssertEq( 2^frac(-1,2) + 2^frac(1,2), frac(3, sqrt(2)) )</code>
</td><td>

<span style="color:green">GOOD</span>
</td><td>
time: 2.227000ms<br>
stack: size: 12<br><ul style="margin:0px"><li>Init<br><li>^/Prune/sqrtFix4<br><li>sqrt/Prune/apply<br><li>Prune<br><li>Expand<br><li>^/Prune/sqrtFix4<br><li>Prune<br><li>Factor<br><li>^/Prune/sqrtFix4<br><li>Prune<br><li>^/Tidy/apply<br><li>Tidy</ul>
</td></tr>
<tr><td>
<b></b><br>
<code>simplifyAssertEq( 2*2^frac(-1,2) + 2^frac(1,2), 2 * sqrt(2) )</code>
</td><td>

<span style="color:green">GOOD</span>
</td><td>
time: 0.940000ms<br>
stack: size: 13<br><ul style="margin:0px"><li>Init<br><li>^/Prune/sqrtFix4<br><li>sqrt/Prune/apply<br><li>+/Prune/combineConstants<br><li>+/Prune/factorOutDivs<br><li>*/Prune/apply<br><li>Prune<br><li>Expand<br><li>Prune<br><li>Factor<br><li>Prune<br><li>^/Tidy/apply<br><li>Tidy</ul>
</td></tr>
<tr><td>
<b></b><br>
<code>simplifyAssertEq( 4*2^frac(-1,2) + 2^frac(1,2), 3 * sqrt(2) )</code>
</td><td>

<span style="color:green">GOOD</span>
</td><td>
time: 0.985000ms<br>
stack: size: 13<br><ul style="margin:0px"><li>Init<br><li>^/Prune/sqrtFix4<br><li>sqrt/Prune/apply<br><li>Prune<br><li>Expand<br><li>^/Prune/sqrtFix4<br><li>Prune<br><li>Factor<br><li>^/Prune/sqrtFix4<br><li>Prune<br><li>^/Tidy/apply<br><li>*/Tidy/apply<br><li>Tidy</ul>
</td></tr>
<tr><td>
<b></b><br>
<code></code>
</td><td>
</td><td>
</td></tr>
<tr><td>
<b></b><br>
<code>simplifyAssertEq( (1 + sqrt(3))^2 + (1 - sqrt(3))^2, 8 )</code>
</td><td>

<span style="color:green">GOOD</span>
</td><td>
time: 3.843000ms<br>
stack: size: 7<br><ul style="margin:0px"><li>Init<br><li>Prune<br><li>Expand<br><li>Prune<br><li>Factor<br><li>Prune<br><li>Tidy</ul>
</td></tr>
<tr><td>
<b></b><br>
<code></code>
</td><td>
</td><td>
</td></tr>
<tr><td>
<b></b><br>
<code>simplifyAssertEq( (frac(1,2)*sqrt(3))*(frac(sqrt(2),sqrt(3))) + (-frac(1,2))*(frac(1,3)*-sqrt(2)) , 2 * sqrt(2) / 3)</code>
</td><td>

<span style="color:green">GOOD</span>
</td><td>
time: 3.883000ms<br>
stack: size: 13<br><ul style="margin:0px"><li>Init<br><li>^/Prune/sqrtFix4<br><li>sqrt/Prune/apply<br><li>+/Prune/combineConstants<br><li>+/Prune/factorOutDivs<br><li>*/Prune/apply<br><li>Prune<br><li>Expand<br><li>Prune<br><li>Factor<br><li>Prune<br><li>^/Tidy/apply<br><li>Tidy</ul>
</td></tr>
<tr><td>
<b></b><br>
<code></code>
</td><td>
</td><td>
</td></tr>
<tr><td>
<b></b><br>
<code>simplifyAssertEq( -frac(1,3)*-frac(1+sqrt(3),3) + -frac(2,3)*frac(1,3) + -frac(2,3) * frac(1-sqrt(3),3), -frac(1 - sqrt(3), 3))</code>
</td><td>

<span style="color:green">GOOD</span>
</td><td>
time: 10.990000ms<br>
stack: size: 30<br><ul style="margin:0px"><li>Init<br><li>^/Prune/sqrtFix4<br><li>sqrt/Prune/apply<br><li>^/Prune/sqrtFix4<br><li>^/Prune/sqrtFix4<br><li>unm/Prune/apply<br><li>-/Prune/apply<br><li>^/Prune/sqrtFix4<br><li>^/Prune/sqrtFix4<br><li>*/Prune/factorDenominators<br><li>unm/Prune/apply<br><li>Prune<br><li>*/Expand/apply<br><li>Expand<br><li>*/Prune/apply<br><li>^/Prune/sqrtFix4<br><li>^/Prune/sqrtFix4<br><li>^/Tidy/apply<br><li>^/Prune/sqrtFix4<br><li>sqrt/Prune/apply<br><li>*/Prune/apply<br><li>*/Prune/flatten<br><li>Prune<br><li>Factor<br><li>Prune<br><li>Expand<br><li>Prune<br><li>Factor<br><li>Prune<br><li>Tidy</ul>
</td></tr>
<tr><td>
<b></b><br>
<code></code>
</td><td>
</td><td>
</td></tr>
<tr><td>
<b></b><br>
<code>simplifyAssertEq( -sqrt(3)*sqrt(2)/(2*sqrt(3)) + sqrt(2)/6, -sqrt(2)/3 )</code>
</td><td>

<span style="color:green">GOOD</span>
</td><td>
time: 2.296000ms<br>
stack: size: 18<br><ul style="margin:0px"><li>Init<br><li>^/Prune/sqrtFix4<br><li>sqrt/Prune/apply<br><li>^/Prune/sqrtFix4<br><li>unm/Prune/apply<br><li>Prune<br><li>Expand<br><li>^/Prune/sqrtFix4<br><li>Prune<br><li>Factor<br><li>^/Prune/sqrtFix4<br><li>Prune<br><li>Constant/Tidy/apply<br><li>^/Tidy/apply<br><li>*/Tidy/apply<br><li>*/Tidy/apply<br><li>//Tidy/apply<br><li>Tidy</ul>
</td></tr>
<tr><td>
<b></b><br>
<code></code>
</td><td>
</td><td>
</td></tr>
<tr><td>
<b></b><br>
<code>simplifyAssertEq( 1 + 5*sqrt(5) + sqrt(5), 1 + 6*sqrt(5) )</code>
</td><td>

<span style="color:green">GOOD</span>
</td><td>
time: 1.167000ms<br>
stack: size: 10<br><ul style="margin:0px"><li>Init<br><li>^/Prune/sqrtFix4<br><li>sqrt/Prune/apply<br><li>Prune<br><li>Expand<br><li>^/Prune/sqrtFix4<br><li>Prune<br><li>Factor<br><li>Prune<br><li>Tidy</ul>
</td></tr>
<tr><td>
<b>powers of the sqrt sometimes get caught simplifying as merging the exponents, and don't add.</b><br>
<code>simplifyAssertEq( 1 + 25*sqrt(5) + sqrt(5), 1 + 26*sqrt(5) )</code>
</td><td>

<span style="color:green">GOOD</span>
</td><td>
time: 1.252000ms<br>
stack: size: 10<br><ul style="margin:0px"><li>Init<br><li>^/Prune/sqrtFix4<br><li>sqrt/Prune/apply<br><li>Prune<br><li>Expand<br><li>^/Prune/sqrtFix4<br><li>Prune<br><li>Factor<br><li>Prune<br><li>Tidy</ul>
</td></tr>
<tr><td>
<b></b><br>
<code>simplifyAssertEq( 1 + 5*sqrt(5) - 5*sqrt(5), 1 )</code>
</td><td>

<span style="color:green">GOOD</span>
</td><td>
time: 0.536000ms<br>
stack: size: 7<br><ul style="margin:0px"><li>Init<br><li>Prune<br><li>Expand<br><li>Prune<br><li>Factor<br><li>Prune<br><li>Tidy</ul>
</td></tr>
<tr><td>
<b></b><br>
<code></code>
</td><td>
</td><td>
</td></tr>
<tr><td>
<b></b><br>
<code>simplifyAssertEq( -(1 + sqrt(5))/(2*sqrt(3)) , frac(1,2)*(-frac(1,sqrt(3)))*(1 + sqrt(5)) )</code>
</td><td>

<span style="color:green">GOOD</span>
</td><td>
time: 14.645000ms<br>
stack: size: 166<br><ul style="margin:0px"><li>Init<br><li>^/Prune/sqrtFix4<br><li>sqrt/Prune/apply<br><li>^/Prune/sqrtFix4<br><li>*/Prune/apply<br><li>^/Prune/sqrtFix4<br><li>*/Prune/factorDenominators<br><li>unm/Prune/apply<br><li>^/Prune/sqrtFix4<br><li>sqrt/Prune/apply<br><li>^/Prune/sqrtFix4<br><li>^/Prune/sqrtFix4<br><li>^/Prune/sqrtFix4<br><li>^/Prune/sqrtFix4<br><li>*/Prune/apply<br><li>unm/Prune/apply<br><li>*/Prune/apply<br><li>+/Prune/combineConstants<br><li>+/Prune/factorOutDivs<br><li>+/Prune/combineConstants<br><li>-/Prune/apply<br><li>^/Prune/sqrtFix4<br><li>//Prune/apply<br><li>//Prune/apply<br><li>*/Prune/factorDenominators<br><li>Prune<br><li>*/Expand/apply<br><li>Expand<br><li>^/Prune/sqrtFix4<br><li>Prune<br><li>*/Factor/negPowToDivPow<br><li>*/Factor/negPowToDivPow<br><li>+/Factor/apply<br><li>Factor<br><li>*/Prune/apply<br><li>unm/Prune/apply<br><li>^/Prune/sqrtFix4<br><li>^/Prune/sqrtFix4<br><li>*/Prune/apply<br><li>unm/Prune/apply<br><li>^/Prune/sqrtFix4<br><li>^/Prune/sqrtFix4<br><li>^/Prune/sqrtFix4<br><li>^/Prune/sqrtFix4<br><li>^/Prune/sqrtFix4<br><li>^/Prune/sqrtFix4<br><li>^/Prune/sqrtFix4<br><li>^/Prune/sqrtFix4<br><li>*/Prune/flatten<br><li>^/Prune/sqrtFix4<br><li>*/Prune/apply<br><li>*/Prune/factorDenominators<br><li>unm/Prune/apply<br><li>*/Prune/apply<br><li>unm/Prune/apply<br><li>+/Prune/combineConstants<br><li>-/Prune/apply<br><li>^/Prune/xToTheZero<br><li>*/Prune/apply<br><li>//Prune/apply<br><li>*/Prune/factorDenominators<br><li>+/Prune/combineConstants<br><li>//Prune/zeroOverX<br><li>+/Prune/factorOutDivs<br><li>-/Prune/apply<br><li>^/Prune/xToTheZero<br><li>^/Prune/sqrtFix4<br><li>//Prune/apply<br><li>*/Prune/factorDenominators<br><li>^/Prune/sqrtFix4<br><li>+/Prune/combineConstants<br><li>^/Prune/sqrtFix4<br><li>+/Prune/factorOutDivs<br><li>^/Prune/sqrtFix4<br><li>^/Prune/sqrtFix4<br><li>^/Prune/sqrtFix4<br><li>^/Prune/sqrtFix4<br><li>*/Prune/apply<br><li>unm/Prune/apply<br><li>*/Prune/apply<br><li>+/Prune/combineConstants<br><li>+/Prune/factorOutDivs<br><li>+/Prune/combineConstants<br><li>-/Prune/apply<br><li>^/Prune/sqrtFix4<br><li>//Prune/apply<br><li>//Prune/apply<br><li>//Prune/pIsDiv<br><li>Prune<br><li>*/Expand/apply<br><li>Expand<br><li>^/Prune/sqrtFix4<br><li>^/Prune/sqrtFix4<br><li>*/Prune/flatten<br><li>Prune<br><li>*/Factor/negPowToDivPow<br><li>*/Factor/negPowToDivPow<br><li>+/Factor/apply<br><li>Factor<br><li>*/Prune/apply<br><li>unm/Prune/apply<br><li>^/Prune/sqrtFix4<br><li>^/Prune/sqrtFix4<br><li>*/Prune/apply<br><li>unm/Prune/apply<br><li>^/Prune/sqrtFix4<br><li>^/Prune/sqrtFix4<br><li>^/Prune/sqrtFix4<br><li>^/Prune/sqrtFix4<br><li>^/Prune/sqrtFix4<br><li>^/Prune/sqrtFix4<br><li>^/Prune/sqrtFix4<br><li>^/Prune/sqrtFix4<br><li>*/Prune/flatten<br><li>^/Prune/sqrtFix4<br><li>*/Prune/apply<br><li>*/Prune/factorDenominators<br><li>unm/Prune/apply<br><li>*/Prune/apply<br><li>unm/Prune/apply<br><li>+/Prune/combineConstants<br><li>-/Prune/apply<br><li>^/Prune/xToTheZero<br><li>*/Prune/apply<br><li>//Prune/apply<br><li>*/Prune/factorDenominators<br><li>+/Prune/combineConstants<br><li>//Prune/zeroOverX<br><li>+/Prune/factorOutDivs<br><li>-/Prune/apply<br><li>^/Prune/xToTheZero<br><li>^/Prune/sqrtFix4<br><li>//Prune/apply<br><li>*/Prune/factorDenominators<br><li>^/Prune/sqrtFix4<br><li>+/Prune/combineConstants<br><li>^/Prune/sqrtFix4<br><li>+/Prune/factorOutDivs<br><li>^/Prune/sqrtFix4<br><li>^/Prune/sqrtFix4<br><li>^/Prune/sqrtFix4<br><li>^/Prune/sqrtFix4<br><li>*/Prune/apply<br><li>unm/Prune/apply<br><li>*/Prune/apply<br><li>+/Prune/combineConstants<br><li>+/Prune/factorOutDivs<br><li>+/Prune/combineConstants<br><li>-/Prune/apply<br><li>^/Prune/sqrtFix4<br><li>//Prune/apply<br><li>//Prune/apply<br><li>//Prune/pIsDiv<br><li>Prune<br><li>Constant/Tidy/apply<br><li>//Tidy/apply<br><li>^/Tidy/apply<br><li>^/Tidy/apply<br><li>Constant/Tidy/apply<br><li>Constant/Tidy/apply<br><li>^/Tidy/apply<br><li>*/Tidy/apply<br><li>*/Tidy/apply<br><li>+/Tidy/apply<br><li>*/Tidy/apply<br><li>Tidy</ul>
</td></tr>
<tr><td>
<b></b><br>
<code></code>
</td><td>
</td><td>
</td></tr>
<tr><td>
<b></b><br>
<code>simplifyAssertEq( (-(1-sqrt(3))/3)*(frac(1,3)) + ((2+sqrt(3))/6)*(-(1-sqrt(3))/3) + (-(1+2*sqrt(3))/6)*(-(1+sqrt(3))/3) , (1 + sqrt(3))/3 )</code>
</td><td>

<span style="color:green">GOOD</span>
</td><td>
time: 18.607000ms<br>
stack: size: 10<br><ul style="margin:0px"><li>Init<br><li>^/Prune/sqrtFix4<br><li>sqrt/Prune/apply<br><li>Prune<br><li>Expand<br><li>^/Prune/sqrtFix4<br><li>Prune<br><li>Factor<br><li>Prune<br><li>Tidy</ul>
</td></tr>
<tr><td>
<b></b><br>
<code></code>
</td><td>
</td><td>
</td></tr>
<tr><td>
<b></b><br>
<code>simplifyAssertEq( (-sqrt(sqrt(5) + 1) * (1 - sqrt(5))) / (4 * sqrt(sqrt(5) - 1)) , frac(1,2))</code>
</td><td>

<span style="color:green">GOOD</span>
</td><td>
time: 12.086000ms<br>
stack: size: 7<br><ul style="margin:0px"><li>Init<br><li>Prune<br><li>Expand<br><li>Prune<br><li>Factor<br><li>Prune<br><li>Tidy</ul>
</td></tr>
<tr><td>
<b></b><br>
<code></code>
</td><td>
</td><td>
</td></tr>
<tr><td>
<b>ok this is hard to explain ..</b><br>
<code>simplifyAssertNe( 6 + 6 * sqrt(3), 12)</code>
</td><td>

<span style="color:green">GOOD</span>
</td><td>
time: 1.503000ms<br>
stack: size: 7<br><ul style="margin:0px"><li>Init<br><li>Prune<br><li>Expand<br><li>Prune<br><li>Factor<br><li>Prune<br><li>Tidy</ul>
</td></tr>
<tr><td>
<b></b><br>
<code></code>
</td><td>
</td><td>
</td></tr>
<tr><td>
<b></b><br>
<code>simplifyAssertEq( (sqrt(5) + 1) * (sqrt(5) - 1), 4)</code>
</td><td>

<span style="color:green">GOOD</span>
</td><td>
time: 1.175000ms<br>
stack: size: 7<br><ul style="margin:0px"><li>Init<br><li>Prune<br><li>Expand<br><li>Prune<br><li>Factor<br><li>Prune<br><li>Tidy</ul>
</td></tr>
<tr><td>
<b></b><br>
<code>simplifyAssertEq( sqrt((sqrt(5) + 1) * (sqrt(5) - 1)), 2)</code>
</td><td>

<span style="color:green">GOOD</span>
</td><td>
time: 1.782000ms<br>
stack: size: 7<br><ul style="margin:0px"><li>Init<br><li>Prune<br><li>Expand<br><li>Prune<br><li>Factor<br><li>Prune<br><li>Tidy</ul>
</td></tr>
<tr><td>
<b></b><br>
<code></code>
</td><td>
</td><td>
</td></tr>
<tr><td>
<b></b><br>
<code>simplifyAssertEq( (1 + 2 / sqrt(3)) / (2 * sqrt(3)), (2 + sqrt(3)) / 6 )</code>
</td><td>

<span style="color:green">GOOD</span>
</td><td>
time: 1.619000ms<br>
stack: size: 10<br><ul style="margin:0px"><li>Init<br><li>^/Prune/sqrtFix4<br><li>sqrt/Prune/apply<br><li>Prune<br><li>Expand<br><li>^/Prune/sqrtFix4<br><li>Prune<br><li>Factor<br><li>Prune<br><li>Tidy</ul>
</td></tr>
<tr><td>
<b></b><br>
<code></code>
</td><td>
</td><td>
</td></tr>
<tr><td>
<b></b><br>
<code>simplifyAssertEq( (frac(1,3)*(-(1-sqrt(3)))) * (frac(1,3)*(-(1-sqrt(3)))) + (frac(1,6)*(2+sqrt(3))) * (frac(1,3)*(1+sqrt(3))) + (frac(1,6)*-(1+2*sqrt(3))) * frac(1,3), (4 - sqrt(3))/6 )</code>
</td><td>

<span style="color:green">GOOD</span>
</td><td>
time: 17.114000ms<br>
stack: size: 14<br><ul style="margin:0px"><li>Init<br><li>^/Prune/sqrtFix4<br><li>sqrt/Prune/apply<br><li>^/Prune/sqrtFix4<br><li>^/Prune/sqrtFix4<br><li>unm/Prune/apply<br><li>-/Prune/apply<br><li>Prune<br><li>Expand<br><li>^/Prune/sqrtFix4<br><li>Prune<br><li>Factor<br><li>Prune<br><li>Tidy</ul>
</td></tr>
<tr><td>
<b></b><br>
<code></code>
</td><td>
</td><td>
</td></tr>
<tr><td>
<b></b><br>
<code>simplifyAssertEq( 1/sqrt(6) + 1/sqrt(6), 2/sqrt(6) )</code>
</td><td>

<span style="color:green">GOOD</span>
</td><td>
time: 1.409000ms<br>
stack: size: 24<br><ul style="margin:0px"><li>Init<br><li>^/Prune/sqrtFix4<br><li>sqrt/Prune/apply<br><li>*/Prune/apply<br><li>*/Prune/factorDenominators<br><li>unm/Prune/apply<br><li>+/Prune/combineConstants<br><li>+/Prune/factorOutDivs<br><li>-/Prune/apply<br><li>^/Prune/sqrtFix4<br><li>^/Prune/sqrtFix4<br><li>//Prune/apply<br><li>Prune<br><li>Expand<br><li>^/Prune/sqrtFix4<br><li>^/Prune/sqrtFix4<br><li>Prune<br><li>Factor<br><li>^/Prune/sqrtFix4<br><li>^/Prune/sqrtFix4<br><li>Prune<br><li>^/Tidy/apply<br><li>^/Tidy/apply<br><li>Tidy</ul>
</td></tr>
<tr><td>
<b></b><br>
<code></code>
</td><td>
</td><td>
</td></tr>
<tr><td>
<b></b><br>
<code>simplifyAssertEq( (32 * sqrt(3) + 32 * sqrt(15)) / 384, (sqrt(3) + sqrt(15)) / 12 )</code>
</td><td>

<span style="color:green">GOOD</span>
</td><td>
time: 13.331000ms<br>
stack: size: 17<br><ul style="margin:0px"><li>Init<br><li>^/Prune/sqrtFix4<br><li>sqrt/Prune/apply<br><li>^/Prune/sqrtFix4<br><li>sqrt/Prune/apply<br><li>Prune<br><li>Expand<br><li>^/Prune/sqrtFix4<br><li>^/Prune/sqrtFix4<br><li>Prune<br><li>Factor<br><li>Prune<br><li>Expand<br><li>Prune<br><li>Factor<br><li>Prune<br><li>Tidy</ul>
</td></tr>
<tr><td>
<b></b><br>
<code></code>
</td><td>
</td><td>
</td></tr>
<tr><td>
<b></b><br>
<code>simplifyAssertEq( sqrt(5)/(2*sqrt(3)), sqrt(15)/6 )</code>
</td><td>

<span style="color:green">GOOD</span>
</td><td>
time: 2.982000ms<br>
stack: size: 44<br><ul style="margin:0px"><li>Init<br><li>^/Prune/sqrtFix4<br><li>sqrt/Prune/apply<br><li>^/Prune/sqrtFix4<br><li>unm/Prune/apply<br><li>*/Prune/apply<br><li>+/Prune/combineConstants<br><li>+/Prune/factorOutDivs<br><li>+/Prune/combineConstants<br><li>-/Prune/apply<br><li>//Prune/apply<br><li>Prune<br><li>Expand<br><li>^/Prune/sqrtFix4<br><li>Prune<br><li>*/Factor/negPowToDivPow<br><li>Factor<br><li>^/Prune/sqrtFix4<br><li>*/Prune/apply<br><li>unm/Prune/apply<br><li>^/Prune/sqrtFix4<br><li>^/Prune/sqrtFix4<br><li>^/Prune/sqrtFix4<br><li>^/Prune/sqrtFix4<br><li>^/Prune/sqrtFix4<br><li>*/Prune/apply<br><li>unm/Prune/apply<br><li>*/Prune/apply<br><li>+/Prune/combineConstants<br><li>+/Prune/factorOutDivs<br><li>+/Prune/combineConstants<br><li>-/Prune/apply<br><li>^/Prune/sqrtFix4<br><li>//Prune/apply<br><li>//Prune/apply<br><li>//Prune/pIsDiv<br><li>Prune<br><li>Constant/Tidy/apply<br><li>//Tidy/apply<br><li>^/Tidy/apply<br><li>^/Tidy/apply<br><li>^/Tidy/apply<br><li>*/Tidy/apply<br><li>Tidy</ul>
</td></tr>
<tr><td>
<b></b><br>
<code></code>
</td><td>
</td><td>
</td></tr>
<tr><td>
<b></b><br>
<code>simplifyAssertEq( -1/(2*sqrt(3)), -sqrt(frac(1,12)) )</code>
</td><td>

<span style="color:green">GOOD</span>
</td><td>
time: 2.528000ms<br>
stack: size: 47<br><ul style="margin:0px"><li>Init<br><li>sqrt/Prune/apply<br><li>^/Prune/oneToTheX<br><li>*/Prune/apply<br><li>^/Prune/sqrtFix4<br><li>^/Prune/sqrtFix4<br><li>*/Prune/apply<br><li>unm/Prune/apply<br><li>*/Prune/apply<br><li>+/Prune/combineConstants<br><li>+/Prune/factorOutDivs<br><li>+/Prune/combineConstants<br><li>-/Prune/apply<br><li>//Prune/apply<br><li>//Prune/apply<br><li>*/Prune/factorDenominators<br><li>unm/Prune/apply<br><li>Prune<br><li>Expand<br><li>Prune<br><li>*/Factor/negPowToDivPow<br><li>Factor<br><li>*/Prune/apply<br><li>unm/Prune/apply<br><li>^/Prune/sqrtFix4<br><li>^/Prune/sqrtFix4<br><li>^/Prune/sqrtFix4<br><li>*/Prune/apply<br><li>unm/Prune/apply<br><li>*/Prune/apply<br><li>+/Prune/combineConstants<br><li>+/Prune/factorOutDivs<br><li>+/Prune/combineConstants<br><li>-/Prune/apply<br><li>//Prune/apply<br><li>//Prune/apply<br><li>//Prune/pIsDiv<br><li>Prune<br><li>Constant/Tidy/apply<br><li>Constant/Tidy/apply<br><li>//Tidy/apply<br><li>^/Tidy/apply<br><li>^/Tidy/apply<br><li>*/Tidy/apply<br><li>*/Tidy/apply<br><li>//Tidy/apply<br><li>Tidy</ul>
</td></tr>
<tr><td>
<b></b><br>
<code>simplifyAssertNe( -sqrt(frac(1,12)), sqrt(frac(1,12)) )</code>
</td><td>

<span style="color:green">GOOD</span>
</td><td>
time: 1.980000ms<br>
stack: size: 29<br><ul style="margin:0px"><li>Init<br><li>sqrt/Prune/apply<br><li>Prune<br><li>^/Expand/frac<br><li>Expand<br><li>^/Prune/oneToTheX<br><li>^/Prune/sqrtFix4<br><li>^/Prune/sqrtFix4<br><li>*/Prune/apply<br><li>unm/Prune/apply<br><li>*/Prune/apply<br><li>+/Prune/combineConstants<br><li>+/Prune/factorOutDivs<br><li>+/Prune/combineConstants<br><li>-/Prune/apply<br><li>//Prune/apply<br><li>//Prune/apply<br><li>Prune<br><li>Factor<br><li>Prune<br><li>Expand<br><li>Prune<br><li>Factor<br><li>Prune<br><li>Constant/Tidy/apply<br><li>//Tidy/apply<br><li>^/Tidy/apply<br><li>^/Tidy/apply<br><li>Tidy</ul>
</td></tr>
<tr><td>
<b></b><br>
<code></code>
</td><td>
</td><td>
</td></tr>
<tr><td>
<b></b><br>
<code>simplifyAssertEq( (sqrt(2)*sqrt(frac(1,3))) * -frac(1,3) + (-frac(1,2)) * (sqrt(2)/sqrt(3)) + (frac(1,2)*1/sqrt(3)) * (-sqrt(2)/3), -sqrt(2) / sqrt(3) )</code>
</td><td>

<span style="color:green">GOOD</span>
</td><td>
time: 7.900000ms<br>
stack: size: 23<br><ul style="margin:0px"><li>Init<br><li>^/Prune/sqrtFix4<br><li>sqrt/Prune/apply<br><li>^/Prune/sqrtFix4<br><li>unm/Prune/apply<br><li>^/Prune/sqrtFix4<br><li>sqrt/Prune/apply<br><li>Prune<br><li>Expand<br><li>^/Prune/sqrtFix4<br><li>^/Prune/sqrtFix4<br><li>Prune<br><li>Factor<br><li>^/Prune/sqrtFix4<br><li>^/Prune/sqrtFix4<br><li>Prune<br><li>Constant/Tidy/apply<br><li>^/Tidy/apply<br><li>*/Tidy/apply<br><li>*/Tidy/apply<br><li>^/Tidy/apply<br><li>//Tidy/apply<br><li>Tidy</ul>
</td></tr>
<tr><td>
<b></b><br>
<code></code>
</td><td>
</td><td>
</td></tr>
<tr><td>
<b></b><br>
<code>simplifyAssertEq( 1 + ( -(7 - 3*sqrt(5)) / (3*(3 - sqrt(5))) )*(1 + frac(1,2)), (1 + sqrt(5))/4 )</code>
</td><td>

<span style="color:green">GOOD</span>
</td><td>
time: 5.103000ms<br>
stack: size: 10<br><ul style="margin:0px"><li>Init<br><li>^/Prune/sqrtFix4<br><li>sqrt/Prune/apply<br><li>Prune<br><li>Expand<br><li>^/Prune/sqrtFix4<br><li>Prune<br><li>Factor<br><li>Prune<br><li>Tidy</ul>
</td></tr>
<tr><td>
<b></b><br>
<code></code>
</td><td>
</td><td>
</td></tr>
<tr><td>
<b></b><br>
<code>simplifyAssertEq( (-(sqrt(5)-1)/2)/sqrt((-(sqrt(5)-1)/2)^2 + 1), -sqrt( (sqrt(5) - 1) / (2 * sqrt(5)) ))</code>
</td><td>

<span style="color:green">GOOD</span>
</td><td>
time: 42.040000ms<br>
stack: size: 45<br><ul style="margin:0px"><li>Init<br><li>^/Prune/sqrtFix4<br><li>sqrt/Prune/apply<br><li>^/Prune/sqrtFix4<br><li>unm/Prune/apply<br><li>^/Prune/sqrtFix4<br><li>+/Prune/combineConstants<br><li>-/Prune/apply<br><li>^/Prune/sqrtFix4<br><li>sqrt/Prune/apply<br><li>^/Prune/sqrtFix4<br><li>^/Prune/sqrtFix4<br><li>*/Prune/apply<br><li>unm/Prune/apply<br><li>*/Prune/apply<br><li>+/Prune/combineConstants<br><li>+/Prune/factorOutDivs<br><li>+/Prune/combineConstants<br><li>-/Prune/apply<br><li>^/Prune/sqrtFix4<br><li>//Prune/apply<br><li>//Prune/apply<br><li>^/Prune/sqrtFix4<br><li>sqrt/Prune/apply<br><li>^/Prune/sqrtFix4<br><li>^/Prune/sqrtFix4<br><li>*/Prune/apply<br><li>*/Prune/apply<br><li>*/Prune/factorDenominators<br><li>^/Prune/distributePow<br><li>^/Prune/sqrtFix4<br><li>^/Prune/expandMulOfLikePow<br><li>^/Prune/sqrtFix4<br><li>*/Prune/flatten<br><li>^/Prune/sqrtFix4<br><li>*/Prune/factorDenominators<br><li>unm/Prune/apply<br><li>Prune<br><li>Expand<br><li>^/Prune/sqrtFix4<br><li>^/Prune/sqrtFix4<br><li>Prune<br><li>Factor<br><li>Prune<br><li>Tidy</ul>
</td></tr>
<tr><td>
<b></b><br>
<code></code>
</td><td>
</td><td>
</td></tr>
<tr><td>
<b></b><br>
<code>simplifyAssertEq(sqrt(frac(15,16)) * sqrt(frac(2,3)), sqrt(5)/(2*sqrt(2)))</code>
</td><td>

<span style="color:green">GOOD</span>
</td><td>
time: 2.445000ms<br>
stack: size: 18<br><ul style="margin:0px"><li>Init<br><li>^/Prune/sqrtFix4<br><li>sqrt/Prune/apply<br><li>^/Prune/sqrtFix4<br><li>sqrt/Prune/apply<br><li>+/Prune/combineConstants<br><li>+/Prune/factorOutDivs<br><li>*/Prune/apply<br><li>Prune<br><li>Expand<br><li>^/Prune/sqrtFix4<br><li>Prune<br><li>Factor<br><li>^/Prune/sqrtFix4<br><li>Prune<br><li>^/Tidy/apply<br><li>^/Tidy/apply<br><li>Tidy</ul>
</td></tr>
<tr><td>
<b></b><br>
<code></code>
</td><td>
</td><td>
</td></tr>
<tr><td>
<b>these go bad when I don't have mul/Prune/combineMulOfLikePow_mulPowAdd</b><br>
<code></code>
</td><td>
</td><td>
</td></tr>
<tr><td>
<b></b><br>
<code>simplifyAssertEq( ( sqrt(f) * (g + f * sqrt(g)) )() , sqrt(f) * sqrt(g) * (sqrt(g) + f))</code>
</td><td>

<span style="color:green">GOOD</span>
</td><td>
time: 11.330000ms<br>
stack: size: 21<br><ul style="margin:0px"><li>Init<br><li>sqrt/Prune/apply<br><li>sqrt/Prune/apply<br><li>sqrt/Prune/apply<br><li>Prune<br><li>*/Expand/apply<br><li>Expand<br><li>*/Prune/apply<br><li>//Prune/xOverX<br><li>*/Prune/factorDenominators<br><li>+/Prune/flattenAddMul<br><li>^/Prune/xToTheOne<br><li>*/Prune/apply<br><li>+/Prune/combineConstants<br><li>+/Prune/factorOutDivs<br><li>+/Prune/combineConstants<br><li>*/Prune/apply<br><li>Prune<br><li>Factor<br><li>Prune<br><li>Tidy</ul>
</td></tr>
<tr><td>
<b></b><br>
<code>simplifyAssertEq( ( sqrt(f) * (g + sqrt(g)) )() , sqrt(f) * sqrt(g) * (sqrt(g) + 1))</code>
</td><td>

<span style="color:green">GOOD</span>
</td><td>
time: 5.004000ms<br>
stack: size: 23<br><ul style="margin:0px"><li>Init<br><li>sqrt/Prune/apply<br><li>sqrt/Prune/apply<br><li>sqrt/Prune/apply<br><li>+/Prune/combineConstants<br><li>Prune<br><li>*/Expand/apply<br><li>Expand<br><li>*/Prune/apply<br><li>//Prune/xOverX<br><li>*/Prune/factorDenominators<br><li>+/Prune/flattenAddMul<br><li>^/Prune/xToTheOne<br><li>*/Prune/apply<br><li>Prune<br><li>*/Factor/combineMulOfLikePow<br><li>Factor<br><li>Prune<br><li>Expand<br><li>Prune<br><li>Factor<br><li>Prune<br><li>Tidy</ul>
</td></tr>
<tr><td>
<b></b><br>
<code></code>
</td><td>
</td><td>
</td></tr>
<tr><td>
<b>these are in simplification loops</b><br>
<code></code>
</td><td>
</td><td>
</td></tr>
<tr><td>
<b></b><br>
<code></code>
</td><td>
</td><td>
</td></tr>
<tr><td>
<b>start with -1 / ( (√√5 √(√5 - 1)) / √2 ) ... what mine gets now vs what mathematica gets</b><br>
<code></code>
</td><td>
</td><td>
</td></tr>
<tr><td>
<b></b><br>
<code>simplifyAssertEq( -1 / ( sqrt(sqrt(5) * (sqrt(5) - 1)) / sqrt(2) ), sqrt((5  + sqrt(5)) / 10))</code>
</td><td>
expected $\frac{-1}{\frac{\sqrt{{{\sqrt{5}}} {{\left({{\sqrt{5}} - {1}}\right)}}}}{\sqrt{2}}}$ to equal $\sqrt{{\frac{1}{10}}{\left({{5} + {\sqrt{5}}}\right)}}$<br>
found $-{\frac{{{{\sqrt{5}}} {{\sqrt{{-{1}} + {\sqrt{5}}}}}} + {\sqrt{{-{1}} + {\sqrt{5}}}}}{{{{{2}} {{\sqrt{2}}}}} {{{5}^{\frac{1}{4}}}}}}$ vs $\frac{{{\frac{1}{{5}^{\frac{1}{4}}}}} {{\sqrt{{1} + {\sqrt{5}}}}}}{\sqrt{2}}$<br>
lhs stack<br>
Init	$\frac{-1}{\frac{\sqrt{{{\sqrt{5}}} {{\left({{\sqrt{5}} - {1}}\right)}}}}{\sqrt{2}}}$	<br>
^/Prune/sqrtFix4	${5}^{\frac{1}{2}}$	<br>
sqrt/Prune/apply	${5}^{\frac{1}{2}}$	<br>
^/Prune/sqrtFix4	${5}^{\frac{1}{2}}$	<br>
sqrt/Prune/apply	${5}^{\frac{1}{2}}$	<br>
^/Prune/sqrtFix4	${5}^{\frac{1}{2}}$	<br>
unm/Prune/apply	$-1$	<br>
^/Prune/sqrtFix4	${5}^{\frac{1}{2}}$	<br>
+/Prune/combineConstants	${-1} + {{5}^{\frac{1}{2}}}$	<br>
-/Prune/apply	${-1} + {{5}^{\frac{1}{2}}}$	<br>
^/Prune/sqrtFix4	${5}^{\frac{1}{2}}$	<br>
^/Prune/sqrtFix4	${5}^{\frac{1}{2}}$	<br>
^/Prune/sqrtFix4	${5}^{\frac{1}{2}}$	<br>
+/Prune/combineConstants	$2$	<br>
*/Prune/apply	${\left({\frac{1}{2}}\right)}^{2}$	<br>
^/Prune/distributePow	${5}^{{\left({\frac{1}{2}}\right)}^{2}}$	<br>
^/Prune/sqrtFix4	${5}^{\frac{1}{2}}$	<br>
^/Prune/expandMulOfLikePow	${{{5}^{{\left({\frac{1}{2}}\right)}^{2}}}} {{{\left({{-1} + {{5}^{\frac{1}{2}}}}\right)}^{\frac{1}{2}}}}$	<br>
sqrt/Prune/apply	${{{5}^{{\left({\frac{1}{2}}\right)}^{2}}}} {{{\left({{-1} + {{5}^{\frac{1}{2}}}}\right)}^{\frac{1}{2}}}}$	<br>
^/Prune/sqrtFix4	${2}^{\frac{1}{2}}$	<br>
sqrt/Prune/apply	${2}^{\frac{1}{2}}$	<br>
^/Prune/sqrtFix4	${2}^{\frac{1}{2}}$	<br>
^/Prune/sqrtFix4	${5}^{\frac{1}{2}}$	<br>
^/Prune/sqrtFix4	${2}^{\frac{1}{2}}$	<br>
^/Prune/sqrtFix4	${5}^{\frac{1}{2}}$	<br>
^/Prune/sqrtFix4	${5}^{\frac{1}{2}}$	<br>
^/Prune/sqrtFix4	${2}^{\frac{1}{2}}$	<br>
^/Prune/sqrtFix4	${5}^{\frac{1}{2}}$	<br>
^/Prune/sqrtFix4	${5}^{\frac{1}{2}}$	<br>
^/Prune/sqrtFix4	${5}^{\frac{1}{2}}$	<br>
^/Prune/sqrtFix4	${5}^{\frac{1}{2}}$	<br>
unm/Prune/apply	${{-1}} \cdot {{{5}^{\frac{1}{2}}}}$	<br>
-/Prune/apply	${-1} + {{{-1}} \cdot {{{5}^{\frac{1}{2}}}}}$	<br>
^/Prune/simplifyConstantPowers	$1$	<br>
^/Prune/simplifyConstantPowers	$1$	<br>
*/Prune/apply	$5$	<br>
*/Prune/apply	$-5$	<br>
unm/Prune/apply	$-5$	<br>
+/Prune/combineConstants	$-4$	<br>
-/Prune/apply	$-4$	<br>
^/Prune/sqrtFix4	${2}^{\frac{1}{2}}$	<br>
^/Prune/sqrtFix4	${5}^{\frac{1}{2}}$	<br>
^/Prune/sqrtFix4	${5}^{\frac{1}{2}}$	<br>
^/Prune/sqrtFix4	${2}^{\frac{1}{2}}$	<br>
^/Prune/sqrtFix4	${5}^{\frac{1}{2}}$	<br>
^/Prune/sqrtFix4	${5}^{\frac{1}{2}}$	<br>
unm/Prune/apply	${{{2}^{\frac{1}{2}}}} {{{\left({{-1} + {{5}^{\frac{1}{2}}}}\right)}^{\frac{1}{2}}}} {{\left({{-1} + {{{-1}} \cdot {{{5}^{\frac{1}{2}}}}}}\right)}}$	<br>
unm/Prune/apply	$-1$	<br>
*/Prune/apply	$-2$	<br>
+/Prune/combineConstants	$-1$	<br>
+/Prune/factorOutDivs	$\frac{-1}{2}$	<br>
+/Prune/combineConstants	$\frac{-1}{2}$	<br>
-/Prune/apply	$\frac{-1}{2}$	<br>
unm/Prune/apply	$-1$	<br>
*/Prune/apply	$-2$	<br>
+/Prune/combineConstants	$-3$	<br>
+/Prune/factorOutDivs	$\frac{-3}{2}$	<br>
+/Prune/combineConstants	$\frac{-3}{2}$	<br>
-/Prune/apply	$\frac{-3}{2}$	<br>
^/Prune/sqrtFix4	${5}^{\frac{1}{2}}$	<br>
^/Prune/sqrtFix4	${5}^{\frac{1}{2}}$	<br>
//Prune/apply	$\frac{{{{2}^{\frac{-3}{2}}}} {{{\left({{-1} + {{5}^{\frac{1}{2}}}}\right)}^{\frac{1}{2}}}} {{\left({{-1} + {{{-1}} \cdot {{{5}^{\frac{1}{2}}}}}}\right)}}}{{5}^{{\left({\frac{1}{2}}\right)}^{2}}}$	<br>
//Prune/apply	$\frac{{{{2}^{\frac{-3}{2}}}} {{{\left({{-1} + {{5}^{\frac{1}{2}}}}\right)}^{\frac{1}{2}}}} {{\left({{-1} + {{{-1}} \cdot {{{5}^{\frac{1}{2}}}}}}\right)}}}{{5}^{{\left({\frac{1}{2}}\right)}^{2}}}$	<br>
//Prune/conjOfSqrtInDenom	$\frac{{{{2}^{\frac{-3}{2}}}} {{{\left({{-1} + {{5}^{\frac{1}{2}}}}\right)}^{\frac{1}{2}}}} {{\left({{-1} + {{{-1}} \cdot {{{5}^{\frac{1}{2}}}}}}\right)}}}{{5}^{{\left({\frac{1}{2}}\right)}^{2}}}$	<br>
//Prune/apply	$\frac{{{{2}^{\frac{-3}{2}}}} {{{\left({{-1} + {{5}^{\frac{1}{2}}}}\right)}^{\frac{1}{2}}}} {{\left({{-1} + {{{-1}} \cdot {{{5}^{\frac{1}{2}}}}}}\right)}}}{{5}^{{\left({\frac{1}{2}}\right)}^{2}}}$	<br>
//Prune/qIsDiv	$\frac{{{{2}^{\frac{-3}{2}}}} {{{\left({{-1} + {{5}^{\frac{1}{2}}}}\right)}^{\frac{1}{2}}}} {{\left({{-1} + {{{-1}} \cdot {{{5}^{\frac{1}{2}}}}}}\right)}}}{{5}^{{\left({\frac{1}{2}}\right)}^{2}}}$	<br>
Prune	$\frac{{{{2}^{\frac{-3}{2}}}} {{{\left({{-1} + {{5}^{\frac{1}{2}}}}\right)}^{\frac{1}{2}}}} {{\left({{-1} + {{{-1}} \cdot {{{5}^{\frac{1}{2}}}}}}\right)}}}{{5}^{{\left({\frac{1}{2}}\right)}^{2}}}$	<br>
*/Expand/apply	${{{{2}^{\frac{-3}{2}}}} {{{\left({{-1} + {{5}^{\frac{1}{2}}}}\right)}^{\frac{1}{2}}}} \cdot {{-1}}} + {{{{2}^{\frac{-3}{2}}}} {{{\left({{-1} + {{5}^{\frac{1}{2}}}}\right)}^{\frac{1}{2}}}} {{{{-1}} \cdot {{{5}^{\frac{1}{2}}}}}}}$	<br>
^/Expand/integerPower	${{1}} \cdot {{1}}$	<br>
^/Expand/integerPower	${{2}} \cdot {{2}}$	<br>
^/Expand/frac	$\frac{{{1}} \cdot {{1}}}{{{2}} \cdot {{2}}}$	<br>
Expand	$\frac{{{{{2}^{\frac{-3}{2}}}} {{{\left({{-1} + {{5}^{\frac{1}{2}}}}\right)}^{\frac{1}{2}}}} \cdot {{-1}}} + {{{{2}^{\frac{-3}{2}}}} {{{\left({{-1} + {{5}^{\frac{1}{2}}}}\right)}^{\frac{1}{2}}}} {{{{-1}} \cdot {{{5}^{\frac{1}{2}}}}}}}}{{5}^{\frac{{{1}} \cdot {{1}}}{{{2}} \cdot {{2}}}}}$	<br>
^/Prune/sqrtFix4	${5}^{\frac{1}{2}}$	<br>
^/Prune/sqrtFix4	${5}^{\frac{1}{2}}$	<br>
^/Prune/sqrtFix4	${5}^{\frac{1}{2}}$	<br>
^/Prune/sqrtFix4	${5}^{\frac{1}{2}}$	<br>
^/Prune/sqrtFix4	${5}^{\frac{1}{2}}$	<br>
*/Prune/flatten	${{-1}} \cdot {{{2}^{\frac{-3}{2}}}} {{{5}^{\frac{1}{2}}}} {{{\left({{-1} + {{5}^{\frac{1}{2}}}}\right)}^{\frac{1}{2}}}}$	<br>
*/Prune/apply	$1$	<br>
*/Prune/apply	$4$	<br>
Prune	$\frac{{{{-1}} \cdot {{{2}^{\frac{-3}{2}}}} {{{\left({{-1} + {{5}^{\frac{1}{2}}}}\right)}^{\frac{1}{2}}}}} + {{{-1}} \cdot {{{2}^{\frac{-3}{2}}}} {{{5}^{\frac{1}{2}}}} {{{\left({{-1} + {{5}^{\frac{1}{2}}}}\right)}^{\frac{1}{2}}}}}}{{5}^{\frac{1}{4}}}$	<br>
Factor	$\frac{{\frac{{{-1}} {{{\left({{-1} + {{5}^{\frac{1}{2}}}}\right)}^{\frac{1}{2}}}}}{{2}^{{\frac{1}{2}}{\left({-{-3}}\right)}}}} + {{{-1}} \cdot {{{2}^{-{\frac{3}{2}}}}} {{{\left({{{5}} {{\left({{-1} + {{5}^{\frac{1}{2}}}}\right)}}}\right)}^{\frac{1}{2}}}}}}{{5}^{\frac{1}{4}}}$	<br>
Prune	$\frac{{{{-1}} \cdot {{{5}^{\frac{1}{2}}}} {{{\left({{-1} + {{5}^{\frac{1}{2}}}}\right)}^{\frac{1}{2}}}}} + {{{-1}} {{{\left({{-1} + {{5}^{\frac{1}{2}}}}\right)}^{\frac{1}{2}}}}}}{{{{2}^{\frac{3}{2}}}} {{{5}^{\frac{1}{4}}}}}$	<br>
Expand	$\frac{{{{-1}} \cdot {{{5}^{\frac{1}{2}}}} {{{\left({{-1} + {{5}^{\frac{1}{2}}}}\right)}^{\frac{1}{2}}}}} + {{{-1}} {{{\left({{-1} + {{5}^{\frac{1}{2}}}}\right)}^{\frac{1}{2}}}}}}{{{{2}^{\frac{3}{2}}}} {{{5}^{\frac{1}{4}}}}}$	<br>
Prune	$\frac{{{{-1}} \cdot {{{5}^{\frac{1}{2}}}} {{{\left({{-1} + {{5}^{\frac{1}{2}}}}\right)}^{\frac{1}{2}}}}} + {{{-1}} {{{\left({{-1} + {{5}^{\frac{1}{2}}}}\right)}^{\frac{1}{2}}}}}}{{{{2}^{\frac{3}{2}}}} {{{5}^{\frac{1}{4}}}}}$	<br>
Factor	$\frac{{{-1}} {{\left({{{{{5}^{\frac{1}{2}}}} {{{\left({{-1} + {{5}^{\frac{1}{2}}}}\right)}^{\frac{1}{2}}}}} + {{\left({{-1} + {{5}^{\frac{1}{2}}}}\right)}^{\frac{1}{2}}}}\right)}}}{{{{2}^{\frac{3}{2}}}} {{{5}^{\frac{1}{4}}}}}$	<br>
Prune	$\frac{{{-1}} {{\left({{{{{5}^{\frac{1}{2}}}} {{{\left({{-1} + {{5}^{\frac{1}{2}}}}\right)}^{\frac{1}{2}}}}} + {{\left({{-1} + {{5}^{\frac{1}{2}}}}\right)}^{\frac{1}{2}}}}\right)}}}{{{{2}^{\frac{3}{2}}}} {{{5}^{\frac{1}{4}}}}}$	<br>
Expand	$\frac{{{{-1}} {{{{{5}^{\frac{1}{2}}}} {{{\left({{-1} + {{5}^{\frac{1}{2}}}}\right)}^{\frac{1}{2}}}}}}} + {{{-1}} {{{\left({{-1} + {{5}^{\frac{1}{2}}}}\right)}^{\frac{1}{2}}}}}}{{{{2}^{\frac{3}{2}}}} {{{5}^{\frac{1}{4}}}}}$	<br>
Prune	$\frac{{{{-1}} \cdot {{{5}^{\frac{1}{2}}}} {{{\left({{-1} + {{5}^{\frac{1}{2}}}}\right)}^{\frac{1}{2}}}}} + {{{-1}} {{{\left({{-1} + {{5}^{\frac{1}{2}}}}\right)}^{\frac{1}{2}}}}}}{{{{2}^{\frac{3}{2}}}} {{{5}^{\frac{1}{4}}}}}$	<br>
Factor	$\frac{{{-1}} {{\left({{{{{5}^{\frac{1}{2}}}} {{{\left({{-1} + {{5}^{\frac{1}{2}}}}\right)}^{\frac{1}{2}}}}} + {{\left({{-1} + {{5}^{\frac{1}{2}}}}\right)}^{\frac{1}{2}}}}\right)}}}{{{{2}^{\frac{3}{2}}}} {{{5}^{\frac{1}{4}}}}}$	<br>
Prune	$\frac{{{-1}} {{\left({{{{{5}^{\frac{1}{2}}}} {{{\left({{-1} + {{5}^{\frac{1}{2}}}}\right)}^{\frac{1}{2}}}}} + {{\left({{-1} + {{5}^{\frac{1}{2}}}}\right)}^{\frac{1}{2}}}}\right)}}}{{{{2}^{\frac{3}{2}}}} {{{5}^{\frac{1}{4}}}}}$	<br>
Tidy	$-{\frac{{{{\sqrt{5}}} {{\sqrt{{-{1}} + {\sqrt{5}}}}}} + {\sqrt{{-{1}} + {\sqrt{5}}}}}{{{{{2}} {{\sqrt{2}}}}} {{{5}^{\frac{1}{4}}}}}}$	<br>
rhs stack<br>
Init	$\sqrt{{\frac{1}{10}}{\left({{5} + {\sqrt{5}}}\right)}}$	<br>
^/Prune/sqrtFix4	${5}^{\frac{1}{2}}$	<br>
sqrt/Prune/apply	${5}^{\frac{1}{2}}$	<br>
^/Prune/sqrtFix4	${5}^{\frac{1}{2}}$	<br>
sqrt/Prune/apply	${\left({{\frac{1}{10}}{\left({{5} + {{5}^{\frac{1}{2}}}}\right)}}\right)}^{\frac{1}{2}}$	<br>
Prune	${\left({{\frac{1}{10}}{\left({{5} + {{5}^{\frac{1}{2}}}}\right)}}\right)}^{\frac{1}{2}}$	<br>
^/Expand/frac	$\frac{{\left({{5} + {{5}^{\frac{1}{2}}}}\right)}^{\frac{1}{2}}}{{10}^{\frac{1}{2}}}$	<br>
Expand	$\frac{{\left({{5} + {{5}^{\frac{1}{2}}}}\right)}^{\frac{1}{2}}}{{10}^{\frac{1}{2}}}$	<br>
^/Prune/sqrtFix4	${5}^{\frac{1}{2}}$	<br>
^/Prune/sqrtFix4	${10}^{\frac{1}{2}}$	<br>
Prune	$\frac{{\left({{5} + {{5}^{\frac{1}{2}}}}\right)}^{\frac{1}{2}}}{{10}^{\frac{1}{2}}}$	<br>
Factor	$\frac{{{{{5}^{\frac{1}{2}}}^{\frac{1}{2}}}} {{{\left({{1} + {{5}^{\frac{1}{2}}}}\right)}^{\frac{1}{2}}}}}{{10}^{\frac{1}{2}}}$	<br>
Prune	$\frac{{{{5}^{\frac{-1}{4}}}} {{{\left({{1} + {{5}^{\frac{1}{2}}}}\right)}^{\frac{1}{2}}}}}{{2}^{\frac{1}{2}}}$	<br>
Expand	$\frac{{{{5}^{\frac{-1}{4}}}} {{{\left({{1} + {{5}^{\frac{1}{2}}}}\right)}^{\frac{1}{2}}}}}{{2}^{\frac{1}{2}}}$	<br>
Prune	$\frac{{{{5}^{\frac{-1}{4}}}} {{{\left({{1} + {{5}^{\frac{1}{2}}}}\right)}^{\frac{1}{2}}}}}{{2}^{\frac{1}{2}}}$	<br>
Factor	$\frac{{{{5}^{\frac{-1}{4}}}} {{{\left({{1} + {{5}^{\frac{1}{2}}}}\right)}^{\frac{1}{2}}}}}{{2}^{\frac{1}{2}}}$	<br>
Prune	$\frac{{{{5}^{\frac{-1}{4}}}} {{{\left({{1} + {{5}^{\frac{1}{2}}}}\right)}^{\frac{1}{2}}}}}{{2}^{\frac{1}{2}}}$	<br>
Tidy	$\frac{{{\frac{1}{{5}^{\frac{1}{4}}}}} {{\sqrt{{1} + {\sqrt{5}}}}}}{\sqrt{2}}$	<br>
<span style="color:red">BAD</span><br>/home/chris/Projects/lua/symmath/tests/unit/unit.lua:32: failed<br>stack traceback:<br>
	/home/chris/Projects/lua/symmath/tests/unit/unit.lua:116: in function </home/chris/Projects/lua/symmath/tests/unit/unit.lua:115><br>
	[C]: in function 'error'<br>
	/home/chris/Projects/lua/symmath/tests/unit/unit.lua:32: in function 'simplifyAssertEq'<br>
	[string "simplifyAssertEq( -1 / ( sqrt(sqrt(5) * (sqrt..."]:1: in main chunk<br>
	/home/chris/Projects/lua/symmath/tests/unit/unit.lua:108: in function </home/chris/Projects/lua/symmath/tests/unit/unit.lua:107><br>
	[C]: in function 'xpcall'<br>
	/home/chris/Projects/lua/symmath/tests/unit/unit.lua:107: in function 'exec'<br>
	./sqrt.lua:100: in function 'cb'<br>
	/home/chris/Projects/lua/ext/timer.lua:49: in function 'timer'<br>
	./sqrt.lua:9: in main chunk<br>
	[C]: at 0x55c5e748b280
</td><td>
time: 23.464000ms<br>
stack: size: 18<br><ul style="margin:0px"><li>Init<br><li>^/Prune/sqrtFix4<br><li>sqrt/Prune/apply<br><li>^/Prune/sqrtFix4<br><li>sqrt/Prune/apply<br><li>Prune<br><li>^/Expand/frac<br><li>Expand<br><li>^/Prune/sqrtFix4<br><li>^/Prune/sqrtFix4<br><li>Prune<br><li>Factor<br><li>Prune<br><li>Expand<br><li>Prune<br><li>Factor<br><li>Prune<br><li>Tidy</ul>
</td></tr>
<tr><td>
<b></b><br>
<code>simplifyAssertEq( -(sqrt( 10 * (sqrt(5) - 1) ) + sqrt(2 * (sqrt(5) - 1))) / (4 * sqrt(sqrt(5))), sqrt((5  + sqrt(5)) / 10))</code>
</td><td>
expected $\frac{-{\left({{\sqrt{{{10}} {{\left({{\sqrt{5}} - {1}}\right)}}}} + {\sqrt{{{2}} {{\left({{\sqrt{5}} - {1}}\right)}}}}}\right)}}{{{4}} {{\sqrt{\sqrt{5}}}}}$ to equal $\sqrt{{\frac{1}{10}}{\left({{5} + {\sqrt{5}}}\right)}}$<br>
found $-{\frac{{{{\sqrt{2}}} {{\sqrt{{-{1}} + {\sqrt{5}}}}}} + {{{\sqrt{10}}} {{\sqrt{{-{1}} + {\sqrt{5}}}}}}}{{{4}} \cdot {{{5}^{\frac{1}{4}}}}}}$ vs $\frac{{{\frac{1}{{5}^{\frac{1}{4}}}}} {{\sqrt{{1} + {\sqrt{5}}}}}}{\sqrt{2}}$<br>
lhs stack<br>
Init	$\frac{-{\left({{\sqrt{{{10}} {{\left({{\sqrt{5}} - {1}}\right)}}}} + {\sqrt{{{2}} {{\left({{\sqrt{5}} - {1}}\right)}}}}}\right)}}{{{4}} {{\sqrt{\sqrt{5}}}}}$	<br>
^/Prune/sqrtFix4	${5}^{\frac{1}{2}}$	<br>
sqrt/Prune/apply	${5}^{\frac{1}{2}}$	<br>
^/Prune/sqrtFix4	${5}^{\frac{1}{2}}$	<br>
unm/Prune/apply	$-1$	<br>
^/Prune/sqrtFix4	${5}^{\frac{1}{2}}$	<br>
+/Prune/combineConstants	${-1} + {{5}^{\frac{1}{2}}}$	<br>
-/Prune/apply	${-1} + {{5}^{\frac{1}{2}}}$	<br>
^/Prune/sqrtFix4	${5}^{\frac{1}{2}}$	<br>
^/Prune/sqrtFix4	${10}^{\frac{1}{2}}$	<br>
^/Prune/sqrtFix4	${5}^{\frac{1}{2}}$	<br>
^/Prune/expandMulOfLikePow	${{{10}^{\frac{1}{2}}}} {{{\left({{-1} + {{5}^{\frac{1}{2}}}}\right)}^{\frac{1}{2}}}}$	<br>
sqrt/Prune/apply	${{{10}^{\frac{1}{2}}}} {{{\left({{-1} + {{5}^{\frac{1}{2}}}}\right)}^{\frac{1}{2}}}}$	<br>
^/Prune/sqrtFix4	${5}^{\frac{1}{2}}$	<br>
sqrt/Prune/apply	${5}^{\frac{1}{2}}$	<br>
^/Prune/sqrtFix4	${5}^{\frac{1}{2}}$	<br>
unm/Prune/apply	$-1$	<br>
^/Prune/sqrtFix4	${5}^{\frac{1}{2}}$	<br>
+/Prune/combineConstants	${-1} + {{5}^{\frac{1}{2}}}$	<br>
-/Prune/apply	${-1} + {{5}^{\frac{1}{2}}}$	<br>
^/Prune/sqrtFix4	${5}^{\frac{1}{2}}$	<br>
^/Prune/sqrtFix4	${2}^{\frac{1}{2}}$	<br>
^/Prune/sqrtFix4	${5}^{\frac{1}{2}}$	<br>
^/Prune/expandMulOfLikePow	${{{2}^{\frac{1}{2}}}} {{{\left({{-1} + {{5}^{\frac{1}{2}}}}\right)}^{\frac{1}{2}}}}$	<br>
sqrt/Prune/apply	${{{2}^{\frac{1}{2}}}} {{{\left({{-1} + {{5}^{\frac{1}{2}}}}\right)}^{\frac{1}{2}}}}$	<br>
^/Prune/sqrtFix4	${10}^{\frac{1}{2}}$	<br>
^/Prune/sqrtFix4	${5}^{\frac{1}{2}}$	<br>
^/Prune/sqrtFix4	${2}^{\frac{1}{2}}$	<br>
^/Prune/sqrtFix4	${5}^{\frac{1}{2}}$	<br>
unm/Prune/apply	${{-1}} {{\left({{{{{10}^{\frac{1}{2}}}} {{{\left({{-1} + {{5}^{\frac{1}{2}}}}\right)}^{\frac{1}{2}}}}} + {{{{2}^{\frac{1}{2}}}} {{{\left({{-1} + {{5}^{\frac{1}{2}}}}\right)}^{\frac{1}{2}}}}}}\right)}}$	<br>
^/Prune/sqrtFix4	${5}^{\frac{1}{2}}$	<br>
sqrt/Prune/apply	${5}^{\frac{1}{2}}$	<br>
^/Prune/sqrtFix4	${5}^{\frac{1}{2}}$	<br>
+/Prune/combineConstants	$2$	<br>
*/Prune/apply	${\left({\frac{1}{2}}\right)}^{2}$	<br>
^/Prune/distributePow	${5}^{{\left({\frac{1}{2}}\right)}^{2}}$	<br>
sqrt/Prune/apply	${5}^{{\left({\frac{1}{2}}\right)}^{2}}$	<br>
Prune	$\frac{{{-1}} {{\left({{{{{10}^{\frac{1}{2}}}} {{{\left({{-1} + {{5}^{\frac{1}{2}}}}\right)}^{\frac{1}{2}}}}} + {{{{2}^{\frac{1}{2}}}} {{{\left({{-1} + {{5}^{\frac{1}{2}}}}\right)}^{\frac{1}{2}}}}}}\right)}}}{{{4}} \cdot {{{5}^{{\left({\frac{1}{2}}\right)}^{2}}}}}$	<br>
*/Expand/apply	${{{-1}} {{{{{10}^{\frac{1}{2}}}} {{{\left({{-1} + {{5}^{\frac{1}{2}}}}\right)}^{\frac{1}{2}}}}}}} + {{{-1}} {{{{{2}^{\frac{1}{2}}}} {{{\left({{-1} + {{5}^{\frac{1}{2}}}}\right)}^{\frac{1}{2}}}}}}}$	<br>
^/Expand/integerPower	${{1}} \cdot {{1}}$	<br>
^/Expand/integerPower	${{2}} \cdot {{2}}$	<br>
^/Expand/frac	$\frac{{{1}} \cdot {{1}}}{{{2}} \cdot {{2}}}$	<br>
Expand	$\frac{{{{-1}} {{{{{10}^{\frac{1}{2}}}} {{{\left({{-1} + {{5}^{\frac{1}{2}}}}\right)}^{\frac{1}{2}}}}}}} + {{{-1}} {{{{{2}^{\frac{1}{2}}}} {{{\left({{-1} + {{5}^{\frac{1}{2}}}}\right)}^{\frac{1}{2}}}}}}}}{{{4}} \cdot {{{5}^{\frac{{{1}} \cdot {{1}}}{{{2}} \cdot {{2}}}}}}}$	<br>
^/Prune/sqrtFix4	${10}^{\frac{1}{2}}$	<br>
^/Prune/sqrtFix4	${5}^{\frac{1}{2}}$	<br>
^/Prune/sqrtFix4	${10}^{\frac{1}{2}}$	<br>
^/Prune/sqrtFix4	${5}^{\frac{1}{2}}$	<br>
*/Prune/flatten	${{-1}} \cdot {{{10}^{\frac{1}{2}}}} {{{\left({{-1} + {{5}^{\frac{1}{2}}}}\right)}^{\frac{1}{2}}}}$	<br>
^/Prune/sqrtFix4	${2}^{\frac{1}{2}}$	<br>
^/Prune/sqrtFix4	${5}^{\frac{1}{2}}$	<br>
^/Prune/sqrtFix4	${2}^{\frac{1}{2}}$	<br>
^/Prune/sqrtFix4	${5}^{\frac{1}{2}}$	<br>
*/Prune/flatten	${{-1}} \cdot {{{2}^{\frac{1}{2}}}} {{{\left({{-1} + {{5}^{\frac{1}{2}}}}\right)}^{\frac{1}{2}}}}$	<br>
*/Prune/apply	$1$	<br>
*/Prune/apply	$4$	<br>
Prune	$\frac{{{{-1}} \cdot {{{10}^{\frac{1}{2}}}} {{{\left({{-1} + {{5}^{\frac{1}{2}}}}\right)}^{\frac{1}{2}}}}} + {{{-1}} \cdot {{{2}^{\frac{1}{2}}}} {{{\left({{-1} + {{5}^{\frac{1}{2}}}}\right)}^{\frac{1}{2}}}}}}{{{4}} \cdot {{{5}^{\frac{1}{4}}}}}$	<br>
Factor	$\frac{{{-1}} {{\left({{{{{2}^{\frac{1}{2}}}} {{{\left({{-1} + {{5}^{\frac{1}{2}}}}\right)}^{\frac{1}{2}}}}} + {{{{10}^{\frac{1}{2}}}} {{{\left({{-1} + {{5}^{\frac{1}{2}}}}\right)}^{\frac{1}{2}}}}}}\right)}}}{{{4}} \cdot {{{5}^{\frac{1}{4}}}}}$	<br>
Prune	$\frac{{{-1}} {{\left({{{{{2}^{\frac{1}{2}}}} {{{\left({{-1} + {{5}^{\frac{1}{2}}}}\right)}^{\frac{1}{2}}}}} + {{{{10}^{\frac{1}{2}}}} {{{\left({{-1} + {{5}^{\frac{1}{2}}}}\right)}^{\frac{1}{2}}}}}}\right)}}}{{{4}} \cdot {{{5}^{\frac{1}{4}}}}}$	<br>
Expand	$\frac{{{{-1}} {{{{{2}^{\frac{1}{2}}}} {{{\left({{-1} + {{5}^{\frac{1}{2}}}}\right)}^{\frac{1}{2}}}}}}} + {{{-1}} {{{{{10}^{\frac{1}{2}}}} {{{\left({{-1} + {{5}^{\frac{1}{2}}}}\right)}^{\frac{1}{2}}}}}}}}{{{4}} \cdot {{{5}^{\frac{1}{4}}}}}$	<br>
Prune	$\frac{{{{-1}} \cdot {{{2}^{\frac{1}{2}}}} {{{\left({{-1} + {{5}^{\frac{1}{2}}}}\right)}^{\frac{1}{2}}}}} + {{{-1}} \cdot {{{10}^{\frac{1}{2}}}} {{{\left({{-1} + {{5}^{\frac{1}{2}}}}\right)}^{\frac{1}{2}}}}}}{{{4}} \cdot {{{5}^{\frac{1}{4}}}}}$	<br>
Factor	$\frac{{{-1}} {{\left({{{{{2}^{\frac{1}{2}}}} {{{\left({{-1} + {{5}^{\frac{1}{2}}}}\right)}^{\frac{1}{2}}}}} + {{{{10}^{\frac{1}{2}}}} {{{\left({{-1} + {{5}^{\frac{1}{2}}}}\right)}^{\frac{1}{2}}}}}}\right)}}}{{{4}} \cdot {{{5}^{\frac{1}{4}}}}}$	<br>
Prune	$\frac{{{-1}} {{\left({{{{{2}^{\frac{1}{2}}}} {{{\left({{-1} + {{5}^{\frac{1}{2}}}}\right)}^{\frac{1}{2}}}}} + {{{{10}^{\frac{1}{2}}}} {{{\left({{-1} + {{5}^{\frac{1}{2}}}}\right)}^{\frac{1}{2}}}}}}\right)}}}{{{4}} \cdot {{{5}^{\frac{1}{4}}}}}$	<br>
Tidy	$-{\frac{{{{\sqrt{2}}} {{\sqrt{{-{1}} + {\sqrt{5}}}}}} + {{{\sqrt{10}}} {{\sqrt{{-{1}} + {\sqrt{5}}}}}}}{{{4}} \cdot {{{5}^{\frac{1}{4}}}}}}$	<br>
rhs stack<br>
Init	$\sqrt{{\frac{1}{10}}{\left({{5} + {\sqrt{5}}}\right)}}$	<br>
^/Prune/sqrtFix4	${5}^{\frac{1}{2}}$	<br>
sqrt/Prune/apply	${5}^{\frac{1}{2}}$	<br>
^/Prune/sqrtFix4	${5}^{\frac{1}{2}}$	<br>
sqrt/Prune/apply	${\left({{\frac{1}{10}}{\left({{5} + {{5}^{\frac{1}{2}}}}\right)}}\right)}^{\frac{1}{2}}$	<br>
Prune	${\left({{\frac{1}{10}}{\left({{5} + {{5}^{\frac{1}{2}}}}\right)}}\right)}^{\frac{1}{2}}$	<br>
^/Expand/frac	$\frac{{\left({{5} + {{5}^{\frac{1}{2}}}}\right)}^{\frac{1}{2}}}{{10}^{\frac{1}{2}}}$	<br>
Expand	$\frac{{\left({{5} + {{5}^{\frac{1}{2}}}}\right)}^{\frac{1}{2}}}{{10}^{\frac{1}{2}}}$	<br>
^/Prune/sqrtFix4	${5}^{\frac{1}{2}}$	<br>
^/Prune/sqrtFix4	${10}^{\frac{1}{2}}$	<br>
Prune	$\frac{{\left({{5} + {{5}^{\frac{1}{2}}}}\right)}^{\frac{1}{2}}}{{10}^{\frac{1}{2}}}$	<br>
Factor	$\frac{{{{{5}^{\frac{1}{2}}}^{\frac{1}{2}}}} {{{\left({{1} + {{5}^{\frac{1}{2}}}}\right)}^{\frac{1}{2}}}}}{{10}^{\frac{1}{2}}}$	<br>
Prune	$\frac{{{{5}^{\frac{-1}{4}}}} {{{\left({{1} + {{5}^{\frac{1}{2}}}}\right)}^{\frac{1}{2}}}}}{{2}^{\frac{1}{2}}}$	<br>
Expand	$\frac{{{{5}^{\frac{-1}{4}}}} {{{\left({{1} + {{5}^{\frac{1}{2}}}}\right)}^{\frac{1}{2}}}}}{{2}^{\frac{1}{2}}}$	<br>
Prune	$\frac{{{{5}^{\frac{-1}{4}}}} {{{\left({{1} + {{5}^{\frac{1}{2}}}}\right)}^{\frac{1}{2}}}}}{{2}^{\frac{1}{2}}}$	<br>
Factor	$\frac{{{{5}^{\frac{-1}{4}}}} {{{\left({{1} + {{5}^{\frac{1}{2}}}}\right)}^{\frac{1}{2}}}}}{{2}^{\frac{1}{2}}}$	<br>
Prune	$\frac{{{{5}^{\frac{-1}{4}}}} {{{\left({{1} + {{5}^{\frac{1}{2}}}}\right)}^{\frac{1}{2}}}}}{{2}^{\frac{1}{2}}}$	<br>
Tidy	$\frac{{{\frac{1}{{5}^{\frac{1}{4}}}}} {{\sqrt{{1} + {\sqrt{5}}}}}}{\sqrt{2}}$	<br>
<span style="color:red">BAD</span><br>/home/chris/Projects/lua/symmath/tests/unit/unit.lua:32: failed<br>stack traceback:<br>
	/home/chris/Projects/lua/symmath/tests/unit/unit.lua:116: in function </home/chris/Projects/lua/symmath/tests/unit/unit.lua:115><br>
	[C]: in function 'error'<br>
	/home/chris/Projects/lua/symmath/tests/unit/unit.lua:32: in function 'simplifyAssertEq'<br>
	[string "simplifyAssertEq( -(sqrt( 10 * (sqrt(5) - 1) ..."]:1: in main chunk<br>
	/home/chris/Projects/lua/symmath/tests/unit/unit.lua:108: in function </home/chris/Projects/lua/symmath/tests/unit/unit.lua:107><br>
	[C]: in function 'xpcall'<br>
	/home/chris/Projects/lua/symmath/tests/unit/unit.lua:107: in function 'exec'<br>
	./sqrt.lua:100: in function 'cb'<br>
	/home/chris/Projects/lua/ext/timer.lua:49: in function 'timer'<br>
	./sqrt.lua:9: in main chunk<br>
	[C]: at 0x55c5e748b280
</td><td>
time: 17.386000ms<br>
stack: size: 18<br><ul style="margin:0px"><li>Init<br><li>^/Prune/sqrtFix4<br><li>sqrt/Prune/apply<br><li>^/Prune/sqrtFix4<br><li>sqrt/Prune/apply<br><li>Prune<br><li>^/Expand/frac<br><li>Expand<br><li>^/Prune/sqrtFix4<br><li>^/Prune/sqrtFix4<br><li>Prune<br><li>Factor<br><li>Prune<br><li>Expand<br><li>Prune<br><li>Factor<br><li>Prune<br><li>Tidy</ul>
</td></tr>
