{
	{hidden=false, input="deta_eq_0 = eta'_ab,c':eq(0)", output="${{{{ \\eta} _a} _b} _{,c}} = {0}$", outputtype="html", uid=2},
	{hidden=false, input="ddelta_eq_0 = delta'_ab,c':eq(0)", output="${{{{ \\delta} _a} _b} _{,c}} = {0}$", outputtype="html", uid=3},
	{hidden=false, input="'metric:'", output="metric:", outputtype="html", uid=4},
	{hidden=false, input="g_def = g'_ab':eq(eta'_ab' - 2 * Phi * delta'_ab')", output="${{{ g} _a} _b} = {{{{ \\eta} _a} _b} - {{{2}} {{\\Phi}} \\cdot {{{{ \\delta} _a} _b}}}}$", outputtype="html", uid=5},
	{hidden=false, input="'metric inverse:'", output="metric inverse:", outputtype="html", uid=6},
	{hidden=false, input="-- gU = -1/(1+2 Phi), 1 / (1 - 2 Phi)\n--\9\9= ( -1+2Phi, 1+2Phi )/(1-4Phi^2)", output="", outputtype="html", uid=7},
	{hidden=false, input="gU_def = g'^ab':eq( frac(1, 1 - 4 * Phi^2) * (eta'^ab' + 2 * Phi * delta'^ab'))", output="${{{ g} ^a} ^b} = {{{\\frac{1}{{1} - {{{4}} {{{\\Phi}^{2}}}}}}} {{\\left({{{{ \\eta} ^a} ^b} + {{{2}} {{\\Phi}} \\cdot {{{{ \\delta} ^a} ^b}}}}\\right)}}}$", outputtype="html", uid=8},
	{hidden=false, input="g_gU_ident = g'^ac' * g'_cb'", output="${{{{ g} ^a} ^c}} {{{{ g} _c} _b}}$", outputtype="html", uid=9},
	{hidden=false, input="g_gU_ident = g_gU_ident:subst(g_def:reindex{ab='cb'}, gU_def:reindex{ab='ac'}):simplify()", output="$\\frac{{{{{{ \\eta} ^a} ^c}} {{{{ \\eta} _c} _b}}} + {{{{{2}} {{\\Phi}} \\cdot {{{{ \\delta} ^a} ^c}} {{{{ \\eta} _c} _b}}} - {{{2}} {{\\Phi}} \\cdot {{{{ \\delta} _c} _b}} {{{{ \\eta} ^a} ^c}}}} - {{{4}} {{{{ \\delta} ^a} ^c}} {{{{ \\delta} _c} _b}} {{{\\Phi}^{2}}}}}}{{1} - {{{4}} {{{\\Phi}^{2}}}}}$", outputtype="html", uid=10},
	{hidden=false, input="g_gU_ident = g_gU_ident\n\9:replace(eta'^ac' * eta'_cb', delta'^a_b')\n\9-- none of these are being replace ...\n\9:replace(-2 * eta'^ac' * Phi * delta'_cb', 0)\n\9:replace(2 * Phi * delta'^ac' * eta'_cb', 0)\n\9:replace(-4 * Phi^2 * delta'^ac' * delta'_cb', -4 * Phi^2 * delta'^a_b')\n\9:simplify()", output="$\\frac{{{-{{{2}} {{\\Phi}} \\cdot {{{{ \\delta} _c} _b}} {{{{ \\eta} ^a} ^c}}}} - {{{4}} {{{{ \\delta} ^a} ^c}} {{{{ \\delta} _c} _b}} {{{\\Phi}^{2}}}}} + {{{ \\delta} ^a} _b}}{{1} - {{{4}} {{{\\Phi}^{2}}}}}$", outputtype="html", uid=11},
	{hidden=false, input="-- and then this should turn out to be delta^a_b * (1 - 4 Phi^2) / (1 - 4 Phi^2)", output="", outputtype="html", uid=12},
	{hidden=false, input="'metric derivative:'", output="metric derivative:", outputtype="html", uid=13},
	{hidden=false, input="dg_def = g_def'_,c'()", output="${{{{ g} _a} _b} _{,c}} = {{{{{{ \\eta} _a} _b} _{,c}} - {{{2}} {{{ \\Phi} _{,c}}} {{{{ \\delta} _a} _b}}}} - {{{2}} {{\\Phi}} \\cdot {{{{{ \\delta} _a} _b} _{,c}}}}}$", outputtype="html", uid=14},
	{hidden=false, input="dg_def = dg_def:subst(deta_eq_0, ddelta_eq_0)()", output="${{{{ g} _a} _b} _{,c}} = {-{{{2}} {{{ \\Phi} _{,c}}} {{{{ \\delta} _a} _b}}}}$", outputtype="html", uid=15},
	{hidden=false, input="'connections:'", output="connections:", outputtype="html", uid=16},
	{hidden=false, input="ConnL_def = Gamma'_abc':eq(frac(1,2) * (g'_ab,c' + g'_ac,b' - g'_bc,a'))", output="${{{{ \\Gamma} _a} _b} _c} = {{{\\frac{1}{2}}} {{\\left({{{{{{ g} _a} _b} _{,c}} + {{{{ g} _a} _c} _{,b}}} - {{{{ g} _b} _c} _{,a}}}\\right)}}}$", outputtype="html", uid=17},
	{hidden=false, input="ConnL_def = ConnL_def:subst(dg_def, dg_def:reindex{abc='acb'}, dg_def:reindex{abc='bca'})()", output="${{{{ \\Gamma} _a} _b} _c} = {{{{{{ \\Phi} _{,a}}} {{{{ \\delta} _b} _c}}} - {{{{ \\Phi} _{,b}}} {{{{ \\delta} _a} _c}}}} - {{{{ \\Phi} _{,c}}} {{{{ \\delta} _a} _b}}}}$", outputtype="html", uid=18},
	{hidden=false, input="Conn_def = Gamma'^a_bc':eq(g'^ad' * Gamma'_dbc')", output="${{{{ \\Gamma} ^a} _b} _c} = {{{{{ g} ^a} ^d}} {{{{{ \\Gamma} _d} _b} _c}}}$", outputtype="html", uid=19},
	{hidden=false, input="Conn_def = Conn_def:subst(gU_def:reindex{ab='ad'}, ConnL_def:reindex{abc='dbc'})()", output="${{{{ \\Gamma} ^a} _b} _c} = {\\frac{{{{{{{ \\Phi} _{,d}}} {{{{ \\delta} _b} _c}} {{{{ \\eta} ^a} ^d}}} - {{{{ \\Phi} _{,b}}} {{{{ \\delta} _d} _c}} {{{{ \\eta} ^a} ^d}}}} - {{{{ \\Phi} _{,c}}} {{{{ \\delta} _d} _b}} {{{{ \\eta} ^a} ^d}}}} + {{{{{2}} {{\\Phi}} \\cdot {{{ \\Phi} _{,d}}} {{{{ \\delta} ^a} ^d}} {{{{ \\delta} _b} _c}}} - {{{2}} {{\\Phi}} \\cdot {{{ \\Phi} _{,b}}} {{{{ \\delta} ^a} ^d}} {{{{ \\delta} _d} _c}}}} - {{{2}} {{\\Phi}} \\cdot {{{ \\Phi} _{,c}}} {{{{ \\delta} ^a} ^d}} {{{{ \\delta} _d} _b}}}}}{{1} - {{{4}} {{{\\Phi}^{2}}}}}}$", outputtype="html", uid=20},
	{hidden=false, input="function isTensorRef(x) return require 'symmath.tensor.TensorRef':isa(x) end", output="", outputtype="html", uid=21},
	{hidden=false, input="'let ', Phi:eq(0), ', but keep ', Phi'_,a', 'to find:'", output="let \9${\\Phi} = {0}$\9, but keep \9${ \\Phi} _{,a}$\9to find:", outputtype="html", uid=22},
	{hidden=false, input="Conn_def = Conn_def:replace(Phi, 0, isTensorRef)()", output="${{{{ \\Gamma} ^a} _b} _c} = {{{{{ \\eta} ^a} ^d}} {{\\left({{{-{{{{ \\Phi} _{,b}}} {{{{ \\delta} _d} _c}}}} - {{{{ \\Phi} _{,c}}} {{{{ \\delta} _d} _b}}}} + {{{{ \\Phi} _{,d}}} {{{{ \\delta} _b} _c}}}}\\right)}}}$", outputtype="html", uid=23},
	{hidden=false, input="du_def = u'^a_;b':eq(u'^a_,b' + Gamma'^a_cb' * u'^c')", output="${{{ u} ^a} _{;b}} = {{{{ u} ^a} _{,b}} + {{{{{{ \\Gamma} ^a} _c} _b}} {{{ u} ^c}}}}$", outputtype="html", uid=24},
	{hidden=false, input="du_def = du_def:subst(Conn_def:reindex{abc='acb'})\n\9:simplify()", output="${{{ u} ^a} _{;b}} = {{{{{{ u} ^a} _{,b}} - {{{{ \\Phi} _{,c}}} {{{ u} ^c}} {{{{ \\delta} _d} _b}} {{{{ \\eta} ^a} ^d}}}} - {{{{ \\Phi} _{,b}}} {{{ u} ^c}} {{{{ \\delta} _d} _c}} {{{{ \\eta} ^a} ^d}}}} + {{{{ \\Phi} _{,d}}} {{{ u} ^c}} {{{{ \\delta} _c} _b}} {{{{ \\eta} ^a} ^d}}}}$", outputtype="html", uid=25},
	{hidden=false, input="duit_def = du_def:reindex{ab='it'}", output="${{{ u} ^i} _{;t}} = {{{{{{ u} ^i} _{,t}} - {{{{ \\Phi} _{,c}}} {{{ u} ^c}} {{{{ \\delta} _d} _t}} {{{{ \\eta} ^i} ^d}}}} - {{{{ \\Phi} _{,t}}} {{{ u} ^c}} {{{{ \\delta} _d} _c}} {{{{ \\eta} ^i} ^d}}}} + {{{{ \\Phi} _{,d}}} {{{ u} ^c}} {{{{ \\delta} _c} _t}} {{{{ \\eta} ^i} ^d}}}}$", outputtype="html", uid=26},
	{hidden=false, input="duij_def = du_def:reindex{ab='ij'}", output="${{{ u} ^i} _{;j}} = {{{{{{ u} ^i} _{,j}} - {{{{ \\Phi} _{,c}}} {{{ u} ^c}} {{{{ \\delta} _d} _j}} {{{{ \\eta} ^i} ^d}}}} - {{{{ \\Phi} _{,j}}} {{{ u} ^c}} {{{{ \\delta} _d} _c}} {{{{ \\eta} ^i} ^d}}}} + {{{{ \\Phi} _{,d}}} {{{ u} ^c}} {{{{ \\delta} _c} _j}} {{{{ \\eta} ^i} ^d}}}}$", outputtype="html", uid=27},
	{hidden=false, input="-- TODO let Phi,t = 0 as well, but that means splitting Conn into time and space", output="", outputtype="html", uid=28},
	{hidden=false, input="'stress-energy:'", output="stress-energy:", outputtype="html", uid=29},
	{hidden=false, input="T_def = T'^ab':eq( (rho + P) * u'^a' * u'^b' + P * g'^ab')", output="${{{ T} ^a} ^b} = {{{{\\left({{\\rho} + {P}}\\right)}} {{{ u} ^a}} {{{ u} ^b}}} + {{{P}} {{{{ g} ^a} ^b}}}}$", outputtype="html", uid=30},
	{hidden=false, input="'divergence-free...'", output="divergence-free...", outputtype="html", uid=31},
	{hidden=false, input="dT_def = T_def'_;b'()", output="${{{{ T} ^a} ^b} _{;b}} = {{{{\\rho}} \\cdot {{{ u} ^b}} {{{{ u} ^a} _{;b}}}} + {{{P}} {{{ u} ^b}} {{{{ u} ^a} _{;b}}}} + {{{\\rho}} \\cdot {{{ u} ^a}} {{{{ u} ^b} _{;b}}}} + {{{P}} {{{ u} ^a}} {{{{ u} ^b} _{;b}}}} + {{{{ \\rho} _{;b}}} {{{ u} ^a}} {{{ u} ^b}}} + {{{{ P} _{;b}}} {{{ u} ^a}} {{{ u} ^b}}} + {{{{ P} _{;b}}} {{{{ g} ^a} ^b}}} + {{{P}} {{{{{ g} ^a} ^b} _{;b}}}}}$", outputtype="html", uid=32},
	{hidden=false, input="'substitute...'", output="substitute...", outputtype="html", uid=33},
	{hidden=false, input="dT_def = dT_def\n\9:replace(g'^ab_;b', 0)\n\9:replace(g'^ab', eta'^ab')\n\9:replace(P'_;b', P'_,b')\n\9:replace(rho'_;b', rho'_,b')\n\9:simplify()", output="${{{{ T} ^a} ^b} _{;b}} = {{{{\\rho}} \\cdot {{{ u} ^b}} {{{{ u} ^a} _{;b}}}} + {{{P}} {{{ u} ^b}} {{{{ u} ^a} _{;b}}}} + {{{\\rho}} \\cdot {{{ u} ^a}} {{{{ u} ^b} _{;b}}}} + {{{P}} {{{ u} ^a}} {{{{ u} ^b} _{;b}}}} + {{{{ \\rho} _{,b}}} {{{ u} ^a}} {{{ u} ^b}}} + {{{{ P} _{,b}}} {{{ u} ^a}} {{{ u} ^b}}} + {{{{ P} _{,b}}} {{{{ \\eta} ^a} ^b}}}}$", outputtype="html", uid=34},
	{hidden=false, input="'separate b index into t and j:'", output="separate b index into t and j:", outputtype="html", uid=35},
	{hidden=false, input="dT_def = dT_def:lhs():eq( dT_def:rhs():reindex{b='t'} + dT_def:rhs():reindex{b='j'} )", output="${{{{ T} ^a} ^b} _{;b}} = {{{{\\rho}} \\cdot {{{ u} ^t}} {{{{ u} ^a} _{;t}}}} + {{{P}} {{{ u} ^t}} {{{{ u} ^a} _{;t}}}} + {{{\\rho}} \\cdot {{{ u} ^a}} {{{{ u} ^t} _{;t}}}} + {{{P}} {{{ u} ^a}} {{{{ u} ^t} _{;t}}}} + {{{{ \\rho} _{,t}}} {{{ u} ^a}} {{{ u} ^t}}} + {{{{ P} _{,t}}} {{{ u} ^a}} {{{ u} ^t}}} + {{{{ P} _{,t}}} {{{{ \\eta} ^a} ^t}}} + {{{\\rho}} \\cdot {{{ u} ^j}} {{{{ u} ^a} _{;j}}}} + {{{P}} {{{ u} ^j}} {{{{ u} ^a} _{;j}}}} + {{{\\rho}} \\cdot {{{ u} ^a}} {{{{ u} ^j} _{;j}}}} + {{{P}} {{{ u} ^a}} {{{{ u} ^j} _{;j}}}} + {{{{ \\rho} _{,j}}} {{{ u} ^a}} {{{ u} ^j}}} + {{{{ P} _{,j}}} {{{ u} ^a}} {{{ u} ^j}}} + {{{{ P} _{,j}}} {{{{ \\eta} ^a} ^j}}}}$", outputtype="html", uid=36},
	{hidden=false, input="'look at t component of a:'", output="look at t component of a:", outputtype="html", uid=37},
	{hidden=false, input="dTt_def = dT_def:reindex{a='t'}", output="${{{{ T} ^t} ^b} _{;b}} = {{{{\\rho}} \\cdot {{{ u} ^t}} {{{{ u} ^t} _{;t}}}} + {{{P}} {{{ u} ^t}} {{{{ u} ^t} _{;t}}}} + {{{\\rho}} \\cdot {{{ u} ^t}} {{{{ u} ^t} _{;t}}}} + {{{P}} {{{ u} ^t}} {{{{ u} ^t} _{;t}}}} + {{{{ \\rho} _{,t}}} {{{ u} ^t}} {{{ u} ^t}}} + {{{{ P} _{,t}}} {{{ u} ^t}} {{{ u} ^t}}} + {{{{ P} _{,t}}} {{{{ \\eta} ^t} ^t}}} + {{{\\rho}} \\cdot {{{ u} ^j}} {{{{ u} ^t} _{;j}}}} + {{{P}} {{{ u} ^j}} {{{{ u} ^t} _{;j}}}} + {{{\\rho}} \\cdot {{{ u} ^t}} {{{{ u} ^j} _{;j}}}} + {{{P}} {{{ u} ^t}} {{{{ u} ^j} _{;j}}}} + {{{{ \\rho} _{,j}}} {{{ u} ^t}} {{{ u} ^j}}} + {{{{ P} _{,j}}} {{{ u} ^t}} {{{ u} ^j}}} + {{{{ P} _{,j}}} {{{{ \\eta} ^t} ^j}}}}$", outputtype="html", uid=38},
	{hidden=false, input="'substitute...'", output="substitute...", outputtype="html", uid=39},
	{hidden=false, input="dTt_def = dTt_def\n\9:replace(u'^t', 1)\n\9:replace(u'^t_;t', 0)\n\9:replace(u'^t_;j', 0)\n\9:subst(du_def:reindex{ab='jj'})\n\9:replace(eta'^tt', -1)\n\9:replace(eta'^tj', 0)\n\9:simplify()", output="${{{{ T} ^t} ^b} _{;b}} = {{{ \\rho} _{,t}} + {{{{{\\rho}} \\cdot {{{{ u} ^j} _{,j}}}} - {{{\\rho}} \\cdot {{{ \\Phi} _{,c}}} {{{ u} ^c}} {{{{ \\delta} _d} _j}} {{{{ \\eta} ^j} ^d}}}} - {{{\\rho}} \\cdot {{{ \\Phi} _{,j}}} {{{ u} ^c}} {{{{ \\delta} _d} _c}} {{{{ \\eta} ^j} ^d}}}} + {{{\\rho}} \\cdot {{{ \\Phi} _{,d}}} {{{ u} ^c}} {{{{ \\delta} _c} _j}} {{{{ \\eta} ^j} ^d}}} + {{{{{P}} {{{{ u} ^j} _{,j}}}} - {{{P}} {{{ \\Phi} _{,c}}} {{{ u} ^c}} {{{{ \\delta} _d} _j}} {{{{ \\eta} ^j} ^d}}}} - {{{P}} {{{ \\Phi} _{,j}}} {{{ u} ^c}} {{{{ \\delta} _d} _c}} {{{{ \\eta} ^j} ^d}}}} + {{{P}} {{{ \\Phi} _{,d}}} {{{ u} ^c}} {{{{ \\delta} _c} _j}} {{{{ \\eta} ^j} ^d}}} + {{{{ \\rho} _{,j}}} {{{ u} ^j}}} + {{{{ P} _{,j}}} {{{ u} ^j}}}}$", outputtype="html", uid=40},
	{hidden=false, input="'look at i component of a:'", output="look at i component of a:", outputtype="html", uid=41},
	{hidden=false, input="dTi_def = dT_def:reindex{a='i'}", output="${{{{ T} ^i} ^b} _{;b}} = {{{{\\rho}} \\cdot {{{ u} ^t}} {{{{ u} ^i} _{;t}}}} + {{{P}} {{{ u} ^t}} {{{{ u} ^i} _{;t}}}} + {{{\\rho}} \\cdot {{{ u} ^i}} {{{{ u} ^t} _{;t}}}} + {{{P}} {{{ u} ^i}} {{{{ u} ^t} _{;t}}}} + {{{{ \\rho} _{,t}}} {{{ u} ^i}} {{{ u} ^t}}} + {{{{ P} _{,t}}} {{{ u} ^i}} {{{ u} ^t}}} + {{{{ P} _{,t}}} {{{{ \\eta} ^i} ^t}}} + {{{\\rho}} \\cdot {{{ u} ^j}} {{{{ u} ^i} _{;j}}}} + {{{P}} {{{ u} ^j}} {{{{ u} ^i} _{;j}}}} + {{{\\rho}} \\cdot {{{ u} ^i}} {{{{ u} ^j} _{;j}}}} + {{{P}} {{{ u} ^i}} {{{{ u} ^j} _{;j}}}} + {{{{ \\rho} _{,j}}} {{{ u} ^i}} {{{ u} ^j}}} + {{{{ P} _{,j}}} {{{ u} ^i}} {{{ u} ^j}}} + {{{{ P} _{,j}}} {{{{ \\eta} ^i} ^j}}}}$", outputtype="html", uid=42},
	{hidden=false, input="'substitute...'", output="substitute...", outputtype="html", uid=43},
	{hidden=false, input="dTi_def = dTi_def\n\9:replace(u'^t', 1)\n\9:replace(eta'^ti', 0)\n\9:replace(eta'^it', 0)\n\9:replace(eta'^tj', 0)\n\9:simplify()", output="${{{{ T} ^i} ^b} _{;b}} = {{{{\\rho}} \\cdot {{{{ u} ^i} _{;t}}}} + {{{P}} {{{{ u} ^i} _{;t}}}} + {{{\\rho}} \\cdot {{{ u} ^i}} {{{{ u} ^t} _{;t}}}} + {{{P}} {{{ u} ^i}} {{{{ u} ^t} _{;t}}}} + {{{{ \\rho} _{,t}}} {{{ u} ^i}}} + {{{{ P} _{,t}}} {{{ u} ^i}}} + {{{\\rho}} \\cdot {{{ u} ^j}} {{{{ u} ^i} _{;j}}}} + {{{P}} {{{ u} ^j}} {{{{ u} ^i} _{;j}}}} + {{{\\rho}} \\cdot {{{ u} ^i}} {{{{ u} ^j} _{;j}}}} + {{{P}} {{{ u} ^i}} {{{{ u} ^j} _{;j}}}} + {{{{ \\rho} _{,j}}} {{{ u} ^i}} {{{ u} ^j}}} + {{{{ P} _{,j}}} {{{ u} ^i}} {{{ u} ^j}}} + {{{{ P} _{,j}}} {{{{ \\eta} ^i} ^j}}}}$", outputtype="html", uid=44}
}